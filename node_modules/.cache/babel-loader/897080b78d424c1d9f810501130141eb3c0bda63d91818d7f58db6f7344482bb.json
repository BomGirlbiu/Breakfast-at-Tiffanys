{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport * as echarts from 'echarts';\nimport axios from 'axios';\nexport default {\n  name: 'FinancialPage',\n  data() {\n    return {\n      // 概览数据\n      monthlyIncome: 0,\n      monthlyExpense: 0,\n      monthlyProfit: 0,\n      incomeTrend: 0,\n      expenseTrend: 0,\n      profitTrend: 0,\n      // 日期范围\n      startDate: this.getDefaultStartDate(),\n      endDate: this.getDefaultEndDate(),\n      selectedType: 'all',\n      // 图表实例\n      trendChart: null,\n      incomePieChart: null,\n      expensePieChart: null,\n      // 交易数据\n      transactions: [],\n      // 加载状态\n      loading: {\n        summary: false,\n        trends: false,\n        incomePie: false,\n        expensePie: false,\n        transactions: false,\n        expenses: false\n      },\n      // API基础URL\n      apiBaseUrl: 'http://localhost:5050/api',\n      // 功能区域选择\n      activeTab: 'analysis',\n      // 新支出记录\n      newExpense: {\n        expenseDate: new Date().toISOString().split('T')[0],\n        category: '',\n        amount: 0,\n        note: ''\n      },\n      // 支出过滤器\n      expenseFilters: {\n        startDate: this.getDefaultStartDate(),\n        endDate: this.getDefaultEndDate(),\n        category: ''\n      },\n      // 支出记录列表\n      expenses: [],\n      // 支出类别列表\n      expenseCategories: ['原料采购', '人工成本', '水电费用', '设备维护', '店铺租金', '其他支出'],\n      // 编辑对话框\n      showEditDialog: false,\n      editingExpense: null\n    };\n  },\n  computed: {\n    filteredTransactions() {\n      return this.transactions.filter(item => {\n        // 将字符串日期转换为Date对象进行比较\n        const itemDate = new Date(item.date.split('T')[0]);\n        const startDateObj = new Date(this.startDate);\n        const endDateObj = new Date(this.endDate);\n\n        // 添加调试日志\n        console.log('过滤交易记录:', item.id, itemDate, startDateObj <= itemDate, itemDate <= endDateObj);\n        const dateInRange = startDateObj <= itemDate && itemDate <= endDateObj;\n        const typeMatch = this.selectedType === 'all' || item.type === this.selectedType;\n        return dateInRange && typeMatch;\n      });\n    }\n  },\n  watch: {\n    startDate() {\n      this.fetchTransactions();\n    },\n    endDate() {\n      this.fetchTransactions();\n    }\n  },\n  mounted() {\n    this.initCharts();\n    this.fetchData();\n    this.fetchExpenseCategories();\n    this.fetchExpenses();\n  },\n  methods: {\n    // 获取默认开始日期（当年1月1日）\n    getDefaultStartDate() {\n      const now = new Date();\n      return `${now.getFullYear()}-01-01`;\n    },\n    // 获取默认结束日期（当前日期）\n    getDefaultEndDate() {\n      const now = new Date();\n      const year = now.getFullYear();\n      const month = String(now.getMonth() + 1).padStart(2, '0');\n      const day = String(now.getDate()).padStart(2, '0');\n      return `${year}-${month}-${day}`;\n    },\n    // 获取所有数据\n    fetchData() {\n      console.log('开始获取财务数据...');\n      this.fetchMonthlySummary();\n      this.fetchTrends();\n      this.fetchIncomeComposition();\n      this.fetchExpenseComposition();\n      this.fetchTransactions();\n    },\n    // 获取月度概览数据\n    async fetchMonthlySummary() {\n      this.loading.summary = true;\n      try {\n        console.log('正在获取月度概览数据...');\n        const response = await axios.get(`${this.apiBaseUrl}/finance/monthly-summary`);\n        const data = response.data;\n        console.log('月度概览数据:', data);\n        this.monthlyIncome = data.monthlyIncome;\n        this.monthlyExpense = data.monthlyExpense;\n        this.monthlyProfit = data.monthlyProfit;\n        this.incomeTrend = data.incomeTrend;\n        this.expenseTrend = data.expenseTrend;\n        this.profitTrend = data.profitTrend;\n      } catch (error) {\n        console.error('获取月度概览数据失败:', error);\n        // 显示错误信息，方便调试\n        alert('获取月度概览数据失败，请检查后端服务是否正常运行');\n      } finally {\n        this.loading.summary = false;\n      }\n    },\n    // 获取趋势数据\n    async fetchTrends() {\n      this.loading.trends = true;\n      try {\n        console.log('正在获取趋势数据...');\n        const response = await axios.get(`${this.apiBaseUrl}/finance/trends`);\n        const data = response.data;\n        console.log('趋势数据:', data);\n\n        // 更新趋势图\n        this.updateTrendChart(data.labels, data.income, data.expense, data.profit);\n      } catch (error) {\n        console.error('获取趋势数据失败:', error);\n      } finally {\n        this.loading.trends = false;\n      }\n    },\n    // 获取收入构成数据\n    async fetchIncomeComposition() {\n      this.loading.incomePie = true;\n      try {\n        console.log('正在获取收入构成数据...');\n        const response = await axios.get(`${this.apiBaseUrl}/finance/income-composition`);\n        const data = response.data;\n        console.log('收入构成数据:', data);\n\n        // 更新收入饼图\n        this.updateIncomePieChart(data);\n      } catch (error) {\n        console.error('获取收入构成数据失败:', error);\n      } finally {\n        this.loading.incomePie = false;\n      }\n    },\n    // 获取支出构成数据\n    async fetchExpenseComposition() {\n      this.loading.expensePie = true;\n      try {\n        console.log('正在获取支出构成数据...');\n        const response = await axios.get(`${this.apiBaseUrl}/finance/expense-composition`);\n        const data = response.data;\n        console.log('支出构成数据:', data);\n\n        // 更新支出饼图\n        this.updateExpensePieChart(data);\n      } catch (error) {\n        console.error('获取支出构成数据失败:', error);\n      } finally {\n        this.loading.expensePie = false;\n      }\n    },\n    // 获取交易明细数据\n    async fetchTransactions() {\n      this.loading.transactions = true;\n      try {\n        console.log('正在获取交易明细数据...');\n        console.log('日期范围:', this.startDate, '至', this.endDate);\n        const response = await axios.get(`${this.apiBaseUrl}/finance/transactions`, {\n          params: {\n            startDate: this.startDate,\n            endDate: this.endDate\n          }\n        });\n        console.log('交易明细数据:', response.data);\n        this.transactions = response.data;\n      } catch (error) {\n        console.error('获取交易明细数据失败:', error);\n        this.transactions = [];\n      } finally {\n        this.loading.transactions = false;\n      }\n    },\n    // 初始化图表\n    initCharts() {\n      // 初始化趋势图\n      this.trendChart = echarts.init(this.$refs.trendChart);\n\n      // 初始化收入构成饼图\n      this.incomePieChart = echarts.init(this.$refs.incomePieChart);\n\n      // 初始化支出构成饼图\n      this.expensePieChart = echarts.init(this.$refs.expensePieChart);\n\n      // 监听窗口大小变化，调整图表大小\n      window.addEventListener('resize', this.handleResize);\n    },\n    // 更新趋势图\n    updateTrendChart(labels, incomeData, expenseData, profitData) {\n      this.trendChart.setOption({\n        title: {\n          text: '近6个月收支趋势'\n        },\n        tooltip: {\n          trigger: 'axis'\n        },\n        legend: {\n          data: ['收入', '支出', '利润']\n        },\n        xAxis: {\n          type: 'category',\n          data: labels\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          name: '收入',\n          type: 'line',\n          data: incomeData\n        }, {\n          name: '支出',\n          type: 'line',\n          data: expenseData\n        }, {\n          name: '利润',\n          type: 'line',\n          data: profitData\n        }]\n      });\n    },\n    // 更新收入构成饼图\n    updateIncomePieChart(data) {\n      this.incomePieChart.setOption({\n        title: {\n          text: '收入构成'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left'\n        },\n        series: [{\n          type: 'pie',\n          radius: '50%',\n          data: data,\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      });\n    },\n    // 更新支出构成饼图\n    updateExpensePieChart(data) {\n      this.expensePieChart.setOption({\n        title: {\n          text: '支出构成'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left'\n        },\n        series: [{\n          type: 'pie',\n          radius: '50%',\n          data: data,\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      });\n    },\n    handleResize() {\n      this.trendChart?.resize();\n      this.incomePieChart?.resize();\n      this.expensePieChart?.resize();\n    },\n    formatNumber(num) {\n      return num.toLocaleString('zh-CN', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2\n      });\n    },\n    formatDate(dateStr) {\n      const date = new Date(dateStr);\n      return date.toLocaleDateString('zh-CN');\n    },\n    // 获取支出记录列表\n    async fetchExpenses() {\n      this.loading.expenses = true;\n      try {\n        const response = await axios.get(`${this.apiBaseUrl}/expenses`, {\n          params: this.expenseFilters\n        });\n        this.expenses = response.data;\n        console.log('获取到支出记录:', this.expenses);\n      } catch (error) {\n        console.error('获取支出记录失败:', error);\n        this.expenses = [];\n      } finally {\n        this.loading.expenses = false;\n      }\n    },\n    // 添加新支出记录\n    async addExpense() {\n      try {\n        const response = await axios.post(`${this.apiBaseUrl}/expenses`, this.newExpense);\n        console.log('添加支出记录成功:', response.data);\n        this.fetchExpenses(); // 重新获取最新的支出列表\n        this.resetForm();\n      } catch (error) {\n        console.error('添加支出记录失败:', error);\n        alert('添加支出记录失败，请检查后端服务是否正常运行');\n      }\n    },\n    // 编辑支出记录\n    editExpense(expense) {\n      this.editingExpense = {\n        ...expense\n      };\n      this.showEditDialog = true;\n    },\n    // 更新支出记录\n    async updateExpense() {\n      try {\n        await axios.put(`${this.apiBaseUrl}/expenses/${this.editingExpense.id}`, this.editingExpense);\n        this.fetchExpenses(); // 重新获取最新的支出列表\n        this.showEditDialog = false;\n      } catch (error) {\n        console.error('更新支出记录失败:', error);\n        alert('更新支出记录失败，请检查后端服务是否正常运行');\n      }\n    },\n    // 删除支出记录\n    async deleteExpense(id) {\n      if (confirm('确定要删除这条支出记录吗？')) {\n        try {\n          await axios.delete(`${this.apiBaseUrl}/expenses/${id}`);\n          this.fetchExpenses(); // 重新获取最新的支出列表\n        } catch (error) {\n          console.error('删除支出记录失败:', error);\n          alert('删除支出记录失败，请检查后端服务是否正常运行');\n        }\n      }\n    },\n    // 取消编辑\n    cancelEdit() {\n      this.showEditDialog = false;\n    },\n    // 获取支出类别列表\n    async fetchExpenseCategories() {\n      try {\n        const response = await axios.get(`${this.apiBaseUrl}/expenses/categories`);\n        console.log('获取支出类别:', response.data);\n        this.expenseCategories = response.data;\n      } catch (error) {\n        console.error('获取支出类别列表失败:', error);\n        // 保留默认类别\n      }\n    },\n    // 重置表单\n    resetForm() {\n      this.newExpense = {\n        expenseDate: new Date().toISOString().split('T')[0],\n        category: '',\n        amount: 0,\n        note: ''\n      };\n    }\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize);\n    this.trendChart?.dispose();\n    this.incomePieChart?.dispose();\n    this.expensePieChart?.dispose();\n  }\n};","map":{"version":3,"names":["echarts","axios","name","data","monthlyIncome","monthlyExpense","monthlyProfit","incomeTrend","expenseTrend","profitTrend","startDate","getDefaultStartDate","endDate","getDefaultEndDate","selectedType","trendChart","incomePieChart","expensePieChart","transactions","loading","summary","trends","incomePie","expensePie","expenses","apiBaseUrl","activeTab","newExpense","expenseDate","Date","toISOString","split","category","amount","note","expenseFilters","expenseCategories","showEditDialog","editingExpense","computed","filteredTransactions","filter","item","itemDate","date","startDateObj","endDateObj","console","log","id","dateInRange","typeMatch","type","watch","fetchTransactions","mounted","initCharts","fetchData","fetchExpenseCategories","fetchExpenses","methods","now","getFullYear","year","month","String","getMonth","padStart","day","getDate","fetchMonthlySummary","fetchTrends","fetchIncomeComposition","fetchExpenseComposition","response","get","error","alert","updateTrendChart","labels","income","expense","profit","updateIncomePieChart","updateExpensePieChart","params","init","$refs","window","addEventListener","handleResize","incomeData","expenseData","profitData","setOption","title","text","tooltip","trigger","legend","xAxis","yAxis","series","orient","left","radius","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","resize","formatNumber","num","toLocaleString","minimumFractionDigits","maximumFractionDigits","formatDate","dateStr","toLocaleDateString","addExpense","post","resetForm","editExpense","updateExpense","put","deleteExpense","confirm","delete","cancelEdit","beforeDestroy","removeEventListener","dispose"],"sources":["src/components/FinancialPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"financial-page\">\r\n    <h1 class=\"page-title\">财务分析</h1>\r\n    \r\n    <!-- 功能区域选择 -->\r\n    <div class=\"function-tabs\">\r\n      <button \r\n        :class=\"['tab-button', { active: activeTab === 'analysis' }]\" \r\n        @click=\"activeTab = 'analysis'\">\r\n        财务分析\r\n      </button>\r\n      <button \r\n        :class=\"['tab-button', { active: activeTab === 'expense-manage' }]\" \r\n        @click=\"activeTab = 'expense-manage'\">\r\n        支出管理\r\n      </button>\r\n    </div>\r\n    \r\n    <!-- 财务分析部分 -->\r\n    <div v-if=\"activeTab === 'analysis'\">\r\n      <!-- 财务概览卡片 -->\r\n      <div class=\"financial-overview\">\r\n        <div class=\"overview-card income\">\r\n          <h3>本月收入</h3>\r\n          <div v-if=\"loading.summary\" class=\"loading-spinner\"></div>\r\n          <template v-else>\r\n            <div class=\"amount\">¥{{ formatNumber(monthlyIncome) }}</div>\r\n            <div class=\"trend\" :class=\"{ 'up': incomeTrend > 0, 'down': incomeTrend < 0 }\">\r\n              {{ incomeTrend > 0 ? '+' : '' }}{{ incomeTrend }}%\r\n            </div>\r\n          </template>\r\n        </div>\r\n        <div class=\"overview-card expense\">\r\n          <h3>本月支出</h3>\r\n          <div v-if=\"loading.summary\" class=\"loading-spinner\"></div>\r\n          <template v-else>\r\n            <div class=\"amount\">¥{{ formatNumber(monthlyExpense) }}</div>\r\n            <div class=\"trend\" :class=\"{ 'up': expenseTrend > 0, 'down': expenseTrend < 0 }\">\r\n              {{ expenseTrend > 0 ? '+' : '' }}{{ expenseTrend }}%\r\n            </div>\r\n          </template>\r\n        </div>\r\n        <div class=\"overview-card profit\">\r\n          <h3>本月利润</h3>\r\n          <div v-if=\"loading.summary\" class=\"loading-spinner\"></div>\r\n          <template v-else>\r\n            <div class=\"amount\">¥{{ formatNumber(monthlyProfit) }}</div>\r\n            <div class=\"trend\" :class=\"{ 'up': profitTrend > 0, 'down': profitTrend < 0 }\">\r\n              {{ profitTrend > 0 ? '+' : '' }}{{ profitTrend }}%\r\n            </div>\r\n          </template>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 图表区域 -->\r\n      <div class=\"charts-container\">\r\n        <!-- 收入支出趋势图 -->\r\n        <div class=\"chart-card\">\r\n          <h3>收入支出趋势</h3>\r\n          <div v-if=\"loading.trends\" class=\"chart-loading\">加载中...</div>\r\n          <div ref=\"trendChart\" class=\"chart\"></div>\r\n        </div>\r\n        \r\n        <!-- 收入构成饼图 -->\r\n        <div class=\"chart-card\">\r\n          <h3>收入构成</h3>\r\n          <div v-if=\"loading.incomePie\" class=\"chart-loading\">加载中...</div>\r\n          <div ref=\"incomePieChart\" class=\"chart\"></div>\r\n        </div>\r\n        \r\n        <!-- 支出构成饼图 -->\r\n        <div class=\"chart-card\">\r\n          <h3>支出构成</h3>\r\n          <div v-if=\"loading.expensePie\" class=\"chart-loading\">加载中...</div>\r\n          <div ref=\"expensePieChart\" class=\"chart\"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 详细数据表格 -->\r\n      <div class=\"data-table-container\">\r\n        <h3>财务明细</h3>\r\n        <div class=\"table-controls\">\r\n          <div class=\"date-range\">\r\n            <input type=\"date\" v-model=\"startDate\" class=\"date-input\">\r\n            <span>至</span>\r\n            <input type=\"date\" v-model=\"endDate\" class=\"date-input\">\r\n          </div>\r\n          <div class=\"table-filters\">\r\n            <select v-model=\"selectedType\" class=\"filter-select\">\r\n              <option value=\"all\">全部类型</option>\r\n              <option value=\"income\">收入</option>\r\n              <option value=\"expense\">支出</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        \r\n        <div v-if=\"loading.transactions\" class=\"table-loading\">\r\n          <div class=\"loading-spinner\"></div>\r\n          <div>加载交易数据中...</div>\r\n        </div>\r\n        \r\n        <table v-else class=\"data-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>日期</th>\r\n              <th>类型</th>\r\n              <th>分类</th>\r\n              <th>金额</th>\r\n              <th>备注</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in filteredTransactions\" :key=\"item.id\">\r\n              <td>{{ formatDate(item.date) }}</td>\r\n              <td>\r\n                <span :class=\"['type-badge', item.type]\">\r\n                  {{ item.type === 'income' ? '收入' : '支出' }}\r\n                </span>\r\n              </td>\r\n              <td>{{ item.category }}</td>\r\n              <td :class=\"item.type === 'income' ? 'income-amount' : 'expense-amount'\">\r\n                {{ item.type === 'income' ? '+' : '-' }}¥{{ formatNumber(item.amount) }}\r\n              </td>\r\n              <td>{{ item.note }}</td>\r\n            </tr>\r\n            <tr v-if=\"filteredTransactions.length === 0\">\r\n              <td colspan=\"5\" class=\"no-data\">没有符合条件的交易记录</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 支出管理部分 -->\r\n    <div v-if=\"activeTab === 'expense-manage'\" class=\"expense-management\">\r\n      <h2 class=\"section-title\">支出管理</h2>\r\n      \r\n      <!-- 支出记录表单 -->\r\n      <div class=\"expense-form-card\">\r\n        <h3>添加支出记录</h3>\r\n        <form @submit.prevent=\"addExpense\" class=\"expense-form\">\r\n          <div class=\"form-group\">\r\n            <label>支出日期</label>\r\n            <input type=\"date\" v-model=\"newExpense.expenseDate\" required class=\"form-input\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>支出类别</label>\r\n            <select v-model=\"newExpense.category\" required class=\"form-input\">\r\n              <option v-for=\"category in expenseCategories\" :key=\"category\" :value=\"category\">\r\n                {{ category }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>金额</label>\r\n            <input type=\"number\" v-model=\"newExpense.amount\" min=\"0.01\" step=\"0.01\" required class=\"form-input\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>备注</label>\r\n            <textarea v-model=\"newExpense.note\" class=\"form-input\"></textarea>\r\n          </div>\r\n          <div class=\"form-actions\">\r\n            <button type=\"submit\" class=\"btn btn-primary\">添加支出</button>\r\n            <button type=\"button\" @click=\"resetForm\" class=\"btn btn-secondary\">重置</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \r\n      <!-- 支出记录列表 -->\r\n      <div class=\"expense-list-card\">\r\n        <h3>支出记录列表</h3>\r\n        \r\n        <!-- 筛选和搜索 -->\r\n        <div class=\"filter-bar\">\r\n          <div class=\"date-filter\">\r\n            <input type=\"date\" v-model=\"expenseFilters.startDate\" class=\"form-input\">\r\n            <span>至</span>\r\n            <input type=\"date\" v-model=\"expenseFilters.endDate\" class=\"form-input\">\r\n          </div>\r\n          <div class=\"category-filter\">\r\n            <select v-model=\"expenseFilters.category\" class=\"form-input\">\r\n              <option value=\"\">所有类别</option>\r\n              <option v-for=\"category in expenseCategories\" :key=\"category\" :value=\"category\">\r\n                {{ category }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <button @click=\"fetchExpenses\" class=\"btn btn-primary\">筛选</button>\r\n        </div>\r\n        \r\n        <!-- 加载状态 -->\r\n        <div v-if=\"loading.expenses\" class=\"loading-container\">\r\n          <div class=\"loading-spinner\"></div>\r\n          <div>加载支出记录中...</div>\r\n        </div>\r\n        \r\n        <!-- 支出记录表格 -->\r\n        <table v-else class=\"data-table expense-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>日期</th>\r\n              <th>类别</th>\r\n              <th>金额</th>\r\n              <th>备注</th>\r\n              <th>操作</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"expense in expenses\" :key=\"expense.id\">\r\n              <td>{{ formatDate(expense.expenseDate) }}</td>\r\n              <td>{{ expense.category }}</td>\r\n              <td class=\"expense-amount\">¥{{ formatNumber(expense.amount) }}</td>\r\n              <td>{{ expense.note || '无' }}</td>\r\n              <td>\r\n                <button @click=\"editExpense(expense)\" class=\"btn-icon edit\">\r\n                  <span>编辑</span>\r\n                </button>\r\n                <button @click=\"deleteExpense(expense.id)\" class=\"btn-icon delete\">\r\n                  <span>删除</span>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n            <tr v-if=\"expenses.length === 0\">\r\n              <td colspan=\"5\" class=\"no-data\">暂无支出记录</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      \r\n      <!-- 编辑支出记录对话框 -->\r\n      <div v-if=\"showEditDialog\" class=\"modal-overlay\">\r\n        <div class=\"modal-content\">\r\n          <h3>编辑支出记录</h3>\r\n          <form @submit.prevent=\"updateExpense\" class=\"expense-form\">\r\n            <div class=\"form-group\">\r\n              <label>支出日期</label>\r\n              <input type=\"date\" v-model=\"editingExpense.expenseDate\" required class=\"form-input\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>支出类别</label>\r\n              <select v-model=\"editingExpense.category\" required class=\"form-input\">\r\n                <option v-for=\"category in expenseCategories\" :key=\"category\" :value=\"category\">\r\n                  {{ category }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>金额</label>\r\n              <input type=\"number\" v-model=\"editingExpense.amount\" min=\"0.01\" step=\"0.01\" required class=\"form-input\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>备注</label>\r\n              <textarea v-model=\"editingExpense.note\" class=\"form-input\"></textarea>\r\n            </div>\r\n            <div class=\"form-actions\">\r\n              <button type=\"submit\" class=\"btn btn-primary\">保存</button>\r\n              <button type=\"button\" @click=\"cancelEdit\" class=\"btn btn-secondary\">取消</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'FinancialPage',\r\n  data() {\r\n    return {\r\n      // 概览数据\r\n      monthlyIncome: 0,\r\n      monthlyExpense: 0,\r\n      monthlyProfit: 0,\r\n      incomeTrend: 0,\r\n      expenseTrend: 0,\r\n      profitTrend: 0,\r\n\r\n      // 日期范围\r\n      startDate: this.getDefaultStartDate(),\r\n      endDate: this.getDefaultEndDate(),\r\n      selectedType: 'all',\r\n\r\n      // 图表实例\r\n      trendChart: null,\r\n      incomePieChart: null,\r\n      expensePieChart: null,\r\n\r\n      // 交易数据\r\n      transactions: [],\r\n      \r\n      // 加载状态\r\n      loading: {\r\n        summary: false,\r\n        trends: false,\r\n        incomePie: false,\r\n        expensePie: false,\r\n        transactions: false,\r\n        expenses: false\r\n      },\r\n      \r\n      // API基础URL\r\n      apiBaseUrl: 'http://localhost:5050/api',\r\n\r\n      // 功能区域选择\r\n      activeTab: 'analysis',\r\n\r\n      // 新支出记录\r\n      newExpense: {\r\n        expenseDate: new Date().toISOString().split('T')[0],\r\n        category: '',\r\n        amount: 0,\r\n        note: ''\r\n      },\r\n\r\n      // 支出过滤器\r\n      expenseFilters: {\r\n        startDate: this.getDefaultStartDate(),\r\n        endDate: this.getDefaultEndDate(),\r\n        category: ''\r\n      },\r\n\r\n      // 支出记录列表\r\n      expenses: [],\r\n\r\n      // 支出类别列表\r\n      expenseCategories: ['原料采购', '人工成本', '水电费用', '设备维护', '店铺租金', '其他支出'],\r\n\r\n      // 编辑对话框\r\n      showEditDialog: false,\r\n      editingExpense: null\r\n    }\r\n  },\r\n  computed: {\r\n    filteredTransactions() {\r\n      return this.transactions.filter(item => {\r\n        // 将字符串日期转换为Date对象进行比较\r\n        const itemDate = new Date(item.date.split('T')[0])\r\n        const startDateObj = new Date(this.startDate)\r\n        const endDateObj = new Date(this.endDate)\r\n        \r\n        // 添加调试日志\r\n        console.log('过滤交易记录:', item.id, itemDate, startDateObj <= itemDate, itemDate <= endDateObj)\r\n        \r\n        const dateInRange = startDateObj <= itemDate && itemDate <= endDateObj\r\n        const typeMatch = this.selectedType === 'all' || item.type === this.selectedType\r\n        return dateInRange && typeMatch\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    startDate() {\r\n      this.fetchTransactions()\r\n    },\r\n    endDate() {\r\n      this.fetchTransactions()\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initCharts()\r\n    this.fetchData()\r\n    this.fetchExpenseCategories()\r\n    this.fetchExpenses()\r\n  },\r\n  methods: {\r\n    // 获取默认开始日期（当年1月1日）\r\n    getDefaultStartDate() {\r\n      const now = new Date()\r\n      return `${now.getFullYear()}-01-01`\r\n    },\r\n    \r\n    // 获取默认结束日期（当前日期）\r\n    getDefaultEndDate() {\r\n      const now = new Date()\r\n      const year = now.getFullYear()\r\n      const month = String(now.getMonth() + 1).padStart(2, '0')\r\n      const day = String(now.getDate()).padStart(2, '0')\r\n      return `${year}-${month}-${day}`\r\n    },\r\n    \r\n    // 获取所有数据\r\n    fetchData() {\r\n      console.log('开始获取财务数据...')\r\n      this.fetchMonthlySummary()\r\n      this.fetchTrends()\r\n      this.fetchIncomeComposition()\r\n      this.fetchExpenseComposition()\r\n      this.fetchTransactions()\r\n    },\r\n    \r\n    // 获取月度概览数据\r\n    async fetchMonthlySummary() {\r\n      this.loading.summary = true\r\n      try {\r\n        console.log('正在获取月度概览数据...')\r\n        const response = await axios.get(`${this.apiBaseUrl}/finance/monthly-summary`)\r\n        const data = response.data\r\n        console.log('月度概览数据:', data)\r\n        \r\n        this.monthlyIncome = data.monthlyIncome\r\n        this.monthlyExpense = data.monthlyExpense\r\n        this.monthlyProfit = data.monthlyProfit\r\n        this.incomeTrend = data.incomeTrend\r\n        this.expenseTrend = data.expenseTrend\r\n        this.profitTrend = data.profitTrend\r\n      } catch (error) {\r\n        console.error('获取月度概览数据失败:', error)\r\n        // 显示错误信息，方便调试\r\n        alert('获取月度概览数据失败，请检查后端服务是否正常运行')\r\n      } finally {\r\n        this.loading.summary = false\r\n      }\r\n    },\r\n    \r\n    // 获取趋势数据\r\n    async fetchTrends() {\r\n      this.loading.trends = true\r\n      try {\r\n        console.log('正在获取趋势数据...')\r\n        const response = await axios.get(`${this.apiBaseUrl}/finance/trends`)\r\n        const data = response.data\r\n        console.log('趋势数据:', data)\r\n        \r\n        // 更新趋势图\r\n        this.updateTrendChart(data.labels, data.income, data.expense, data.profit)\r\n      } catch (error) {\r\n        console.error('获取趋势数据失败:', error)\r\n      } finally {\r\n        this.loading.trends = false\r\n      }\r\n    },\r\n    \r\n    // 获取收入构成数据\r\n    async fetchIncomeComposition() {\r\n      this.loading.incomePie = true\r\n      try {\r\n        console.log('正在获取收入构成数据...')\r\n        const response = await axios.get(`${this.apiBaseUrl}/finance/income-composition`)\r\n        const data = response.data\r\n        console.log('收入构成数据:', data)\r\n        \r\n        // 更新收入饼图\r\n        this.updateIncomePieChart(data)\r\n      } catch (error) {\r\n        console.error('获取收入构成数据失败:', error)\r\n      } finally {\r\n        this.loading.incomePie = false\r\n      }\r\n    },\r\n    \r\n    // 获取支出构成数据\r\n    async fetchExpenseComposition() {\r\n      this.loading.expensePie = true\r\n      try {\r\n        console.log('正在获取支出构成数据...')\r\n        const response = await axios.get(`${this.apiBaseUrl}/finance/expense-composition`)\r\n        const data = response.data\r\n        console.log('支出构成数据:', data)\r\n        \r\n        // 更新支出饼图\r\n        this.updateExpensePieChart(data)\r\n      } catch (error) {\r\n        console.error('获取支出构成数据失败:', error)\r\n      } finally {\r\n        this.loading.expensePie = false\r\n      }\r\n    },\r\n    \r\n    // 获取交易明细数据\r\n    async fetchTransactions() {\r\n      this.loading.transactions = true\r\n      try {\r\n        console.log('正在获取交易明细数据...')\r\n        console.log('日期范围:', this.startDate, '至', this.endDate)\r\n        const response = await axios.get(`${this.apiBaseUrl}/finance/transactions`, {\r\n          params: {\r\n            startDate: this.startDate,\r\n            endDate: this.endDate\r\n          }\r\n        })\r\n        console.log('交易明细数据:', response.data)\r\n        this.transactions = response.data\r\n      } catch (error) {\r\n        console.error('获取交易明细数据失败:', error)\r\n        this.transactions = []\r\n      } finally {\r\n        this.loading.transactions = false\r\n      }\r\n    },\r\n    \r\n    // 初始化图表\r\n    initCharts() {\r\n      // 初始化趋势图\r\n      this.trendChart = echarts.init(this.$refs.trendChart)\r\n      \r\n      // 初始化收入构成饼图\r\n      this.incomePieChart = echarts.init(this.$refs.incomePieChart)\r\n      \r\n      // 初始化支出构成饼图\r\n      this.expensePieChart = echarts.init(this.$refs.expensePieChart)\r\n      \r\n      // 监听窗口大小变化，调整图表大小\r\n      window.addEventListener('resize', this.handleResize)\r\n    },\r\n    \r\n    // 更新趋势图\r\n    updateTrendChart(labels, incomeData, expenseData, profitData) {\r\n      this.trendChart.setOption({\r\n        title: {\r\n          text: '近6个月收支趋势'\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        legend: {\r\n          data: ['收入', '支出', '利润']\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: labels\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            name: '收入',\r\n            type: 'line',\r\n            data: incomeData\r\n          },\r\n          {\r\n            name: '支出',\r\n            type: 'line',\r\n            data: expenseData\r\n          },\r\n          {\r\n            name: '利润',\r\n            type: 'line',\r\n            data: profitData\r\n          }\r\n        ]\r\n      })\r\n    },\r\n    \r\n    // 更新收入构成饼图\r\n    updateIncomePieChart(data) {\r\n      this.incomePieChart.setOption({\r\n        title: {\r\n          text: '收入构成'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          left: 'left'\r\n        },\r\n        series: [\r\n          {\r\n            type: 'pie',\r\n            radius: '50%',\r\n            data: data,\r\n            emphasis: {\r\n              itemStyle: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      })\r\n    },\r\n    \r\n    // 更新支出构成饼图\r\n    updateExpensePieChart(data) {\r\n      this.expensePieChart.setOption({\r\n        title: {\r\n          text: '支出构成'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          left: 'left'\r\n        },\r\n        series: [\r\n          {\r\n            type: 'pie',\r\n            radius: '50%',\r\n            data: data,\r\n            emphasis: {\r\n              itemStyle: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      })\r\n    },\r\n    \r\n    handleResize() {\r\n      this.trendChart?.resize()\r\n      this.incomePieChart?.resize()\r\n      this.expensePieChart?.resize()\r\n    },\r\n    \r\n    formatNumber(num) {\r\n      return num.toLocaleString('zh-CN', {\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2\r\n      })\r\n    },\r\n    \r\n    formatDate(dateStr) {\r\n      const date = new Date(dateStr)\r\n      return date.toLocaleDateString('zh-CN')\r\n    },\r\n\r\n    // 获取支出记录列表\r\n    async fetchExpenses() {\r\n      this.loading.expenses = true\r\n      try {\r\n        const response = await axios.get(`${this.apiBaseUrl}/expenses`, {\r\n          params: this.expenseFilters\r\n        })\r\n        this.expenses = response.data\r\n        console.log('获取到支出记录:', this.expenses)\r\n      } catch (error) {\r\n        console.error('获取支出记录失败:', error)\r\n        this.expenses = []\r\n      } finally {\r\n        this.loading.expenses = false\r\n      }\r\n    },\r\n\r\n    // 添加新支出记录\r\n    async addExpense() {\r\n      try {\r\n        const response = await axios.post(`${this.apiBaseUrl}/expenses`, this.newExpense)\r\n        console.log('添加支出记录成功:', response.data)\r\n        this.fetchExpenses() // 重新获取最新的支出列表\r\n        this.resetForm()\r\n      } catch (error) {\r\n        console.error('添加支出记录失败:', error)\r\n        alert('添加支出记录失败，请检查后端服务是否正常运行')\r\n      }\r\n    },\r\n\r\n    // 编辑支出记录\r\n    editExpense(expense) {\r\n      this.editingExpense = { ...expense }\r\n      this.showEditDialog = true\r\n    },\r\n\r\n    // 更新支出记录\r\n    async updateExpense() {\r\n      try {\r\n        await axios.put(`${this.apiBaseUrl}/expenses/${this.editingExpense.id}`, this.editingExpense)\r\n        this.fetchExpenses() // 重新获取最新的支出列表\r\n        this.showEditDialog = false\r\n      } catch (error) {\r\n        console.error('更新支出记录失败:', error)\r\n        alert('更新支出记录失败，请检查后端服务是否正常运行')\r\n      }\r\n    },\r\n\r\n    // 删除支出记录\r\n    async deleteExpense(id) {\r\n      if (confirm('确定要删除这条支出记录吗？')) {\r\n        try {\r\n          await axios.delete(`${this.apiBaseUrl}/expenses/${id}`)\r\n          this.fetchExpenses() // 重新获取最新的支出列表\r\n        } catch (error) {\r\n          console.error('删除支出记录失败:', error)\r\n          alert('删除支出记录失败，请检查后端服务是否正常运行')\r\n        }\r\n      }\r\n    },\r\n\r\n    // 取消编辑\r\n    cancelEdit() {\r\n      this.showEditDialog = false\r\n    },\r\n\r\n    // 获取支出类别列表\r\n    async fetchExpenseCategories() {\r\n      try {\r\n        const response = await axios.get(`${this.apiBaseUrl}/expenses/categories`)\r\n        console.log('获取支出类别:', response.data)\r\n        this.expenseCategories = response.data\r\n      } catch (error) {\r\n        console.error('获取支出类别列表失败:', error)\r\n        // 保留默认类别\r\n      }\r\n    },\r\n\r\n    // 重置表单\r\n    resetForm() {\r\n      this.newExpense = {\r\n        expenseDate: new Date().toISOString().split('T')[0],\r\n        category: '',\r\n        amount: 0,\r\n        note: ''\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.handleResize)\r\n    this.trendChart?.dispose()\r\n    this.incomePieChart?.dispose()\r\n    this.expensePieChart?.dispose()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.financial-page {\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.page-title {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n  color: #333;\r\n}\r\n\r\n/* 财务概览卡片样式 */\r\n.financial-overview {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: 20px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.overview-card {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  min-height: 120px;\r\n}\r\n\r\n.overview-card h3 {\r\n  margin: 0 0 10px 0;\r\n  color: #666;\r\n  font-size: 16px;\r\n}\r\n\r\n.amount {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.trend {\r\n  font-size: 14px;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  display: inline-block;\r\n}\r\n\r\n.trend.up {\r\n  background-color: #e8f5e9;\r\n  color: #2e7d32;\r\n}\r\n\r\n.trend.down {\r\n  background-color: #ffebee;\r\n  color: #c62828;\r\n}\r\n\r\n/* 图表区域样式 */\r\n.charts-container {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\r\n  gap: 20px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.chart-card {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  position: relative;\r\n}\r\n\r\n.chart-card h3 {\r\n  margin: 0 0 20px 0;\r\n  color: #333;\r\n  font-size: 18px;\r\n}\r\n\r\n.chart {\r\n  height: 300px;\r\n  width: 100%;\r\n}\r\n\r\n.chart-loading {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  color: #666;\r\n  font-size: 14px;\r\n}\r\n\r\n/* 数据表格样式 */\r\n.data-table-container {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  position: relative;\r\n}\r\n\r\n.data-table-container h3 {\r\n  margin: 0 0 20px 0;\r\n  color: #333;\r\n  font-size: 18px;\r\n}\r\n\r\n.table-controls {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.date-range {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.date-input {\r\n  padding: 8px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\n.filter-select {\r\n  padding: 8px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  min-width: 120px;\r\n}\r\n\r\n.data-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.data-table th,\r\n.data-table td {\r\n  padding: 12px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.data-table th {\r\n  background-color: #f5f5f5;\r\n  font-weight: 500;\r\n}\r\n\r\n.type-badge {\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n}\r\n\r\n.type-badge.income {\r\n  background-color: #e8f5e9;\r\n  color: #2e7d32;\r\n}\r\n\r\n.type-badge.expense {\r\n  background-color: #ffebee;\r\n  color: #c62828;\r\n}\r\n\r\n.income-amount {\r\n  color: #2e7d32;\r\n}\r\n\r\n.expense-amount {\r\n  color: #c62828;\r\n}\r\n\r\n.table-loading {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px 0;\r\n  color: #666;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 30px;\r\n  height: 30px;\r\n  border: 3px solid #f3f3f3;\r\n  border-top: 3px solid #3498db;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.no-data {\r\n  text-align: center;\r\n  color: #666;\r\n  padding: 20px 0;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .charts-container {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .table-controls {\r\n    flex-direction: column;\r\n    gap: 10px;\r\n  }\r\n  \r\n  .date-range {\r\n    flex-wrap: wrap;\r\n  }\r\n  \r\n  .data-table {\r\n    display: block;\r\n    overflow-x: auto;\r\n  }\r\n}\r\n\r\n/* 支出管理部分样式 */\r\n.expense-management {\r\n  margin-top: 30px;\r\n}\r\n\r\n.section-title {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n  color: #333;\r\n}\r\n\r\n.expense-form-card {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.expense-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.form-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.form-group label {\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.form-input {\r\n  padding: 8px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n}\r\n\r\n.btn {\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-primary {\r\n  background-color: #3498db;\r\n  color: white;\r\n}\r\n\r\n.btn-secondary {\r\n  background-color: #f3f3f3;\r\n  color: #666;\r\n}\r\n\r\n.expense-list-card {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n\r\n.filter-bar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.date-filter {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.category-filter {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.loading-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px 0;\r\n  color: #666;\r\n}\r\n\r\n.expense-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.expense-table th,\r\n.expense-table td {\r\n  padding: 12px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.expense-table th {\r\n  background-color: #f5f5f5;\r\n  font-weight: 500;\r\n}\r\n\r\n.btn-icon {\r\n  padding: 4px 8px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  margin-left: 5px;\r\n}\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.modal-content {\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  max-width: 400px;\r\n  width: 100%;\r\n}\r\n\r\n.modal-content h3 {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.expense-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.expense-form .form-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.expense-form .form-group label {\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.expense-form .form-input {\r\n  padding: 8px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\n.expense-form .form-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n}\r\n\r\n.expense-form .btn {\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.expense-form .btn-primary {\r\n  background-color: #3498db;\r\n  color: white;\r\n}\r\n\r\n.expense-form .btn-secondary {\r\n  background-color: #f3f3f3;\r\n  color: #666;\r\n}\r\n\r\n.function-tabs {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.tab-button {\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background-color: #f3f3f3;\r\n  cursor: pointer;\r\n}\r\n\r\n.tab-button.active {\r\n  background-color: #3498db;\r\n  color: white;\r\n}\r\n</style>\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}