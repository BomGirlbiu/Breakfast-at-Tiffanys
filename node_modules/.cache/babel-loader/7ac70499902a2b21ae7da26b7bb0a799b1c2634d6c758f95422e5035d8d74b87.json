{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport axios from 'axios';\nexport default {\n  name: 'BreadOrderManagement',\n  data() {\n    return {\n      // 订单数据\n      orders: [],\n      filteredOrders: [],\n      selectedOrder: null,\n      // 筛选和排序\n      searchQuery: '',\n      statusFilter: '',\n      dateRange: {\n        start: '',\n        end: ''\n      },\n      sortKey: 'orderDate',\n      sortOrder: 'desc',\n      // 分页\n      currentPage: 1,\n      pageSize: 10,\n      // 模态框状态\n      showAddOrderModal: false,\n      showEditOrderModal: false,\n      showDeleteConfirmation: false,\n      orderToDelete: null,\n      // 订单表单\n      orderForm: {\n        customerName: '',\n        phone: '',\n        address: '',\n        pickupTime: '',\n        paymentMethod: 'cash',\n        status: 'pending',\n        notes: '',\n        items: [],\n        discount: 0,\n        deliveryFee: 0\n      }\n    };\n  },\n  computed: {\n    // 总订单数\n    totalOrders() {\n      return this.orders.length;\n    },\n    // 待处理订单数\n    pendingOrders() {\n      return this.orders.filter(order => order.status === 'pending').length;\n    },\n    // 已完成订单数\n    completedOrders() {\n      return this.orders.filter(order => order.status === 'completed').length;\n    },\n    // 总收入\n    totalRevenue() {\n      return this.orders.filter(order => order.status === 'completed').reduce((total, order) => total + order.totalAmount, 0);\n    },\n    // 总页数\n    totalPages() {\n      return Math.ceil(this.filteredOrders.length / this.pageSize);\n    },\n    // 当前页订单\n    paginatedOrders() {\n      const startIndex = (this.currentPage - 1) * this.pageSize;\n      const endIndex = startIndex + this.pageSize;\n      return this.filteredOrders.slice(startIndex, endIndex);\n    },\n    // 显示的页码\n    displayedPages() {\n      const pages = [];\n      const maxDisplayedPages = 5;\n      if (this.totalPages <= maxDisplayedPages) {\n        // 总页数小于等于最大显示页数，显示所有页码\n        for (let i = 1; i <= this.totalPages; i++) {\n          pages.push(i);\n        }\n      } else {\n        // 总页数大于最大显示页数\n        const halfDisplay = Math.floor(maxDisplayedPages / 2);\n\n        // 当前页靠近开始\n        if (this.currentPage <= halfDisplay + 1) {\n          for (let i = 1; i <= maxDisplayedPages; i++) {\n            pages.push(i);\n          }\n        }\n        // 当前页靠近结束\n        else if (this.currentPage >= this.totalPages - halfDisplay) {\n          for (let i = this.totalPages - maxDisplayedPages + 1; i <= this.totalPages; i++) {\n            pages.push(i);\n          }\n        }\n        // 当前页在中间\n        else {\n          for (let i = this.currentPage - halfDisplay; i <= this.currentPage + halfDisplay; i++) {\n            pages.push(i);\n          }\n        }\n      }\n      return pages;\n    }\n  },\n  created() {\n    this.loadOrders();\n  },\n  methods: {\n    // 加载订单数据\n    async loadOrders() {\n      try {\n        // 从后端API获取数据\n        const response = await fetch('http://localhost:5050/api/orders');\n        if (!response.ok) {\n          throw new Error('获取订单数据失败');\n        }\n        const data = await response.json();\n\n        // 处理日期字符串为Date对象\n        this.orders = data.map(order => ({\n          ...order,\n          orderDate: new Date(order.orderDate),\n          pickupTime: order.pickupTime ? new Date(order.pickupTime) : null\n        }));\n        this.filterOrders();\n      } catch (error) {\n        console.error('加载订单数据失败:', error);\n        this.orders = [];\n        this.filterOrders();\n      }\n    },\n    // 刷新订单数据\n    async refreshOrders() {\n      try {\n        await this.loadOrders();\n        this.selectedOrder = null;\n        this.$nextTick(() => {\n          alert('订单数据已刷新');\n        });\n      } catch (error) {\n        console.error('刷新订单数据失败:', error);\n        alert('刷新订单数据失败，请重试');\n      }\n    },\n    // 筛选订单\n    filterOrders() {\n      let result = [...this.orders];\n\n      // 搜索条件筛选\n      if (this.searchQuery) {\n        const query = this.searchQuery.toLowerCase();\n        result = result.filter(order => order.orderNumber.toLowerCase().includes(query) || order.customerName.toLowerCase().includes(query) || order.phone.includes(query));\n      }\n\n      // 状态筛选\n      if (this.statusFilter) {\n        result = result.filter(order => order.status === this.statusFilter);\n      }\n\n      // 日期范围筛选\n      if (this.dateRange.start) {\n        const startDate = new Date(this.dateRange.start);\n        startDate.setHours(0, 0, 0, 0);\n        result = result.filter(order => new Date(order.orderDate) >= startDate);\n      }\n      if (this.dateRange.end) {\n        const endDate = new Date(this.dateRange.end);\n        endDate.setHours(23, 59, 59, 999);\n        result = result.filter(order => new Date(order.orderDate) <= endDate);\n      }\n      this.filteredOrders = this.sortOrders(result);\n      this.currentPage = 1; // 重置到第一页\n    },\n    // 重置筛选条件\n    resetFilters() {\n      this.searchQuery = '';\n      this.statusFilter = '';\n      this.dateRange.start = '';\n      this.dateRange.end = '';\n      this.filterOrders();\n    },\n    // 排序订单\n    sortOrders(ordersToSort = null) {\n      const orders = ordersToSort || [...this.filteredOrders];\n      return orders.sort((a, b) => {\n        let valueA = a[this.sortKey];\n        let valueB = b[this.sortKey];\n\n        // 日期类型特殊处理\n        if (this.sortKey === 'orderDate' || this.sortKey === 'pickupTime') {\n          valueA = new Date(valueA).getTime();\n          valueB = new Date(valueB).getTime();\n        }\n\n        // 字符串类型特殊处理\n        if (typeof valueA === 'string') {\n          valueA = valueA.toLowerCase();\n          valueB = valueB.toLowerCase();\n        }\n\n        // 根据排序方向返回比较结果\n        if (this.sortOrder === 'asc') {\n          return valueA > valueB ? 1 : -1;\n        } else {\n          return valueA < valueB ? 1 : -1;\n        }\n      });\n    },\n    // 切换排序方向\n    toggleSortOrder() {\n      this.sortOrder = this.sortOrder === 'asc' ? 'desc' : 'asc';\n      this.filteredOrders = this.sortOrders();\n    },\n    // 更改页码\n    changePage(page) {\n      if (page >= 1 && page <= this.totalPages) {\n        this.currentPage = page;\n      }\n    },\n    // 查看订单详情\n    viewOrderDetails(order) {\n      this.selectedOrder = order;\n    },\n    // 关闭订单详情\n    closeOrderDetails() {\n      this.selectedOrder = null;\n    },\n    // 编辑订单\n    editOrder(order) {\n      // 复制订单数据到表单\n      this.orderForm = {\n        id: order.id,\n        orderNumber: order.orderNumber,\n        customerName: order.customerName,\n        phone: order.phone,\n        address: order.address || '',\n        pickupTime: this.formatDateTimeForInput(order.pickupTime),\n        paymentMethod: order.paymentMethod,\n        status: order.status,\n        notes: order.notes || '',\n        items: JSON.parse(JSON.stringify(order.items)),\n        // 深拷贝\n        discount: order.discount || 0,\n        deliveryFee: order.deliveryFee || 0\n      };\n      this.showEditOrderModal = true;\n    },\n    // 确认删除订单\n    confirmDeleteOrder(order) {\n      this.orderToDelete = order;\n      this.showDeleteConfirmation = true;\n    },\n    // 取消删除\n    cancelDelete() {\n      this.orderToDelete = null;\n      this.showDeleteConfirmation = false;\n    },\n    // 删除订单\n    async deleteOrder() {\n      try {\n        const response = await fetch(`http://localhost:5050/api/orders/${this.orderToDelete.id}`, {\n          method: 'DELETE'\n        });\n        if (!response.ok) {\n          throw new Error('删除订单失败');\n        }\n\n        // 重新加载订单数据\n        await this.loadOrders();\n\n        // 如果删除的是当前选中的订单，则清除选中\n        if (this.selectedOrder && this.selectedOrder.id === this.orderToDelete.id) {\n          this.selectedOrder = null;\n        }\n        this.showDeleteConfirmation = false;\n        this.orderToDelete = null;\n        alert('订单删除成功');\n      } catch (error) {\n        console.error('删除订单失败:', error);\n        alert('删除订单失败，请重试');\n      }\n    },\n    // 更新订单状态\n    async updateOrderStatus(orderId, newStatus) {\n      try {\n        const response = await fetch(`http://localhost:5050/api/orders/${orderId}/status`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            status: newStatus\n          })\n        });\n        if (!response.ok) {\n          throw new Error('更新订单状态失败');\n        }\n\n        // 重新加载订单数据\n        await this.loadOrders();\n\n        // 如果当前有选中的订单，也更新它的状态\n        if (this.selectedOrder && this.selectedOrder.id === orderId) {\n          this.selectedOrder.status = newStatus;\n        }\n      } catch (error) {\n        console.error('更新订单状态失败:', error);\n        alert('更新订单状态失败，请重试');\n      }\n    },\n    // 打印订单\n    printOrder(order) {\n      // 在实际应用中，这里应该调用打印功能\n      console.log('打印订单:', order.orderNumber);\n      alert(`正在打印订单 #${order.orderNumber}`);\n    },\n    // 添加面包商品\n    addBreadItem() {\n      this.orderForm.items.push({\n        name: '',\n        breadType: 'sourdough',\n        price: 0,\n        quantity: 1\n      });\n    },\n    // 移除面包商品\n    removeBreadItem(index) {\n      this.orderForm.items.splice(index, 1);\n    },\n    // 关闭订单模态框\n    closeOrderModal() {\n      this.showAddOrderModal = false;\n      this.showEditOrderModal = false;\n      this.resetOrderForm();\n    },\n    // 重置订单表单\n    resetOrderForm() {\n      this.orderForm = {\n        customerName: '',\n        phone: '',\n        address: '',\n        pickupTime: '',\n        paymentMethod: 'cash',\n        status: 'pending',\n        notes: '',\n        items: [],\n        discount: 0,\n        deliveryFee: 0\n      };\n\n      // 添加一个默认的空商品项\n      this.addBreadItem();\n    },\n    // 保存订单\n    async saveOrder() {\n      try {\n        const totalAmount = this.calculateOrderTotal();\n        const orderData = {\n          ...this.orderForm,\n          totalAmount: totalAmount\n        };\n        if (this.showEditOrderModal) {\n          // 更新现有订单\n          const response = await fetch(`http://localhost:5050/api/orders/${this.orderForm.id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(orderData)\n          });\n          if (!response.ok) {\n            throw new Error('更新订单失败');\n          }\n        } else {\n          // 创建新订单\n          const response = await fetch('http://localhost:5050/api/orders', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(orderData)\n          });\n          if (!response.ok) {\n            throw new Error('创建订单失败');\n          }\n        }\n\n        // 重新加载订单数据\n        await this.loadOrders();\n        this.closeOrderModal();\n        alert(this.showEditOrderModal ? '订单更新成功' : '订单创建成功');\n      } catch (error) {\n        console.error('保存订单失败:', error);\n        alert('保存订单失败，请重试');\n      }\n    },\n    // 计算订单小计\n    calculateSubtotal(items) {\n      return items.reduce((total, item) => total + item.price * item.quantity, 0);\n    },\n    // 计算订单总计\n    calculateOrderTotal() {\n      const subtotal = this.calculateSubtotal(this.orderForm.items);\n      const discount = parseFloat(this.orderForm.discount) || 0;\n      const deliveryFee = parseFloat(this.orderForm.deliveryFee) || 0;\n      return subtotal - discount + deliveryFee;\n    },\n    // 获取订单状态文本\n    getStatusText(status) {\n      const statusMap = {\n        'pending': '待处理',\n        'processing': '处理中',\n        'completed': '已完成',\n        'cancelled': '已取消'\n      };\n      return statusMap[status] || status;\n    },\n    // 获取支付方式文本\n    getPaymentMethodText(method) {\n      const methodMap = {\n        'cash': '现金支付',\n        'wechat': '微信支付',\n        'alipay': '支付宝',\n        'card': '银行卡'\n      };\n      return methodMap[method] || method;\n    },\n    // 获取面包类型文本\n    getBreadTypeText(type) {\n      const typeMap = {\n        'sourdough': '酸面团面包',\n        'baguette': '法棍面包',\n        'croissant': '牛角面包',\n        'wholewheat': '全麦面包',\n        'brioche': '布里欧面包',\n        'rye': '黑麦面包',\n        'ciabatta': '夏巴塔面包',\n        'bagel': '贝果面包',\n        'focaccia': '佛卡夏面包',\n        'cake': '蛋糕',\n        'other': '其他'\n      };\n      return typeMap[type] || type;\n    },\n    // 获取面包图片\n    getBreadImage(type) {\n      // 在实际应用中，这里应该返回不同面包类型的图片URL\n      // 这里使用一个简单的占位符图片\n      return `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiByeD0iOCIgZmlsbD0iI0Y1RjVGNSIvPgo8cGF0aCBkPSJNMjAgMjBINDRWNDRIMjBWMjBaIiBmaWxsPSIjRThFOEU4Ii8+CjxwYXRoIGQ9Ik0zMiAyMEMzOC42Mjc0IDIwIDQ0IDI1LjM3MjYgNDQgMzJDNDQgMzguNjI3NCAzOC42Mjc0IDQ0IDMyIDQ0QzI1LjM3MjYgNDQgMjAgMzguNjI3NCAyMCAzMkMyMCAyNS4zNzI2IDI1LjM3MjYgMjAgMzIgMjBaIiBmaWxsPSIjRTBFMEUwIi8+Cjwvc3ZnPg==`;\n    },\n    // 获取下一个状态\n    getNextStatus(status) {\n      const statusFlow = {\n        'pending': 'processing',\n        'processing': 'completed',\n        'completed': 'completed',\n        'cancelled': 'pending'\n      };\n      return statusFlow[status] || status;\n    },\n    // 获取状态操作文本\n    getStatusActionText(status) {\n      const actionMap = {\n        'pending': '开始处理',\n        'processing': '标记完成',\n        'completed': '已完成',\n        'cancelled': '重新处理'\n      };\n      return actionMap[status] || '更新状态';\n    },\n    // 格式化日期\n    formatDate(date) {\n      if (!date) return '';\n      const d = new Date(date);\n      return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\n    },\n    // 格式化时间\n    formatTime(date) {\n      if (!date) return '';\n      const d = new Date(date);\n      return `${String(d.getHours()).padStart(2, '0')}:${String(d.getMinutes()).padStart(2, '0')}`;\n    },\n    // 格式化日期时间\n    formatDateTime(date) {\n      if (!date) return '';\n      return `${this.formatDate(date)} ${this.formatTime(date)}`;\n    },\n    // 格式化日期时间为输入框格式\n    formatDateTimeForInput(date) {\n      if (!date) return '';\n      const d = new Date(date);\n      return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}T${String(d.getHours()).padStart(2, '0')}:${String(d.getMinutes()).padStart(2, '0')}`;\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","orders","filteredOrders","selectedOrder","searchQuery","statusFilter","dateRange","start","end","sortKey","sortOrder","currentPage","pageSize","showAddOrderModal","showEditOrderModal","showDeleteConfirmation","orderToDelete","orderForm","customerName","phone","address","pickupTime","paymentMethod","status","notes","items","discount","deliveryFee","computed","totalOrders","length","pendingOrders","filter","order","completedOrders","totalRevenue","reduce","total","totalAmount","totalPages","Math","ceil","paginatedOrders","startIndex","endIndex","slice","displayedPages","pages","maxDisplayedPages","i","push","halfDisplay","floor","created","loadOrders","methods","response","fetch","ok","Error","json","map","orderDate","Date","filterOrders","error","console","refreshOrders","$nextTick","alert","result","query","toLowerCase","orderNumber","includes","startDate","setHours","endDate","sortOrders","resetFilters","ordersToSort","sort","a","b","valueA","valueB","getTime","toggleSortOrder","changePage","page","viewOrderDetails","closeOrderDetails","editOrder","id","formatDateTimeForInput","JSON","parse","stringify","confirmDeleteOrder","cancelDelete","deleteOrder","method","updateOrderStatus","orderId","newStatus","headers","body","printOrder","log","addBreadItem","breadType","price","quantity","removeBreadItem","index","splice","closeOrderModal","resetOrderForm","saveOrder","calculateOrderTotal","orderData","calculateSubtotal","item","subtotal","parseFloat","getStatusText","statusMap","getPaymentMethodText","methodMap","getBreadTypeText","type","typeMap","getBreadImage","getNextStatus","statusFlow","getStatusActionText","actionMap","formatDate","date","d","getFullYear","String","getMonth","padStart","getDate","formatTime","getHours","getMinutes","formatDateTime"],"sources":["src/components/BreadOrderManagement.vue"],"sourcesContent":["<template>\n  <div class=\"bread-order-management\">\n    <header class=\"header\">\n      <div class=\"logo\">\n        <h1>蒂芙尼早餐&面包</h1>\n        <span class=\"subtitle\">面包订单管理系统</span>\n      </div>\n      <div class=\"actions\">\n        <button class=\"btn btn-primary\" @click=\"showAddOrderModal = true\">\n          <i class=\"icon-plus\"></i> 新增订单\n        </button>\n        <button class=\"btn btn-secondary\" @click=\"refreshOrders\">\n          <i class=\"icon-refresh\"></i> 刷新数据\n        </button>\n      </div>\n    </header>\n\n    <div class=\"dashboard\">\n      <div class=\"card order-stats\">\n        <div class=\"stat-item\">\n          <div class=\"stat-value\">{{ totalOrders }}</div>\n          <div class=\"stat-label\">总订单</div>\n        </div>\n        <div class=\"stat-item\">\n          <div class=\"stat-value\">{{ pendingOrders }}</div>\n          <div class=\"stat-label\">待处理</div>\n        </div>\n        <div class=\"stat-item\">\n          <div class=\"stat-value\">{{ completedOrders }}</div>\n          <div class=\"stat-label\">已完成</div>\n        </div>\n        <div class=\"stat-item\">\n          <div class=\"stat-value\">¥{{ totalRevenue.toFixed(2) }}</div>\n          <div class=\"stat-label\">总收入</div>\n        </div>\n      </div>\n\n      <div class=\"card search-filters\">\n        <div class=\"search-box\">\n          <input \n            type=\"text\" \n            v-model=\"searchQuery\" \n            placeholder=\"搜索订单号、客户名称或电话...\" \n            @input=\"filterOrders\"\n          />\n          <i class=\"icon-search\"></i>\n        </div>\n        <div class=\"filters\">\n          <div class=\"filter-group\">\n            <label>订单状态</label>\n            <select v-model=\"statusFilter\" @change=\"filterOrders\">\n              <option value=\"\">全部状态</option>\n              <option value=\"pending\">待处理</option>\n              <option value=\"processing\">处理中</option>\n              <option value=\"completed\">已完成</option>\n              <option value=\"cancelled\">已取消</option>\n            </select>\n          </div>\n          <div class=\"filter-group\">\n            <label>下单日期</label>\n            <div class=\"date-range\">\n              <input type=\"date\" v-model=\"dateRange.start\" @change=\"filterOrders\" />\n              <span>至</span>\n              <input type=\"date\" v-model=\"dateRange.end\" @change=\"filterOrders\" />\n            </div>\n          </div>\n          <button class=\"btn btn-filter\" @click=\"filterOrders\">\n            <i class=\"icon-filter\"></i> 筛选\n          </button>\n        </div>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h2>面包订单列表</h2>\n          <div class=\"header-actions\">\n            <div class=\"sort-options\">\n              <label>排序:</label>\n              <select v-model=\"sortKey\" @change=\"sortOrders\">\n                <option value=\"orderDate\">下单日期</option>\n                <option value=\"orderNumber\">订单编号</option>\n                <option value=\"customerName\">客户姓名</option>\n                <option value=\"totalAmount\">订单金额</option>\n              </select>\n              <button class=\"btn-icon\" @click=\"toggleSortOrder\">\n                <i :class=\"sortOrder === 'asc' ? 'icon-sort-up' : 'icon-sort-down'\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"table-container\">\n          <table class=\"orders-table\" v-if=\"filteredOrders.length > 0\">\n            <thead>\n              <tr>\n                <th>订单编号</th>\n                <th>客户姓名</th>\n                <th>联系电话</th>\n                <th>下单日期</th>\n                <th>取餐时间</th>\n                <th>面包种类</th>\n                <th>订单金额</th>\n                <th>订单状态</th>\n                <th>操作</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"order in paginatedOrders\" :key=\"order.id\" :class=\"{'selected': selectedOrder && selectedOrder.id === order.id}\">\n                <td>{{ order.orderNumber }}</td>\n                <td>{{ order.customerName }}</td>\n                <td>{{ order.phone }}</td>\n                <td>{{ formatDate(order.orderDate) }}</td>\n                <td>{{ formatTime(order.pickupTime) }}</td>\n                <td>{{ order.items.length }}</td>\n                <td>¥{{ order.totalAmount.toFixed(2) }}</td>\n                <td>\n                  <span class=\"status-badge\" :class=\"order.status\">\n                    {{ getStatusText(order.status) }}\n                  </span>\n                </td>\n                <td class=\"actions-cell\">\n                  <button class=\"btn-icon\" @click=\"viewOrderDetails(order)\" title=\"查看详情\">\n                    <i class=\"icon-eye\"></i>\n                  </button>\n                  <button class=\"btn-icon\" @click=\"editOrder(order)\" title=\"编辑订单\">\n                    <i class=\"icon-edit\"></i>\n                  </button>\n                  <button class=\"btn-icon\" @click=\"confirmDeleteOrder(order)\" title=\"删除订单\">\n                    <i class=\"icon-trash\"></i>\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <div class=\"empty-state\" v-else>\n            <img src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik01MCAxMDBDNzcuNjE0MiAxMDAgMTAwIDc3LjYxNDIgMTAwIDUwQzEwMCAyMi4zODU4IDc3LjYxNDIgMCA1MCAwQzIyLjM4NTggMCAwIDIyLjM4NTggMCA1MEMwIDc3LjYxNDIgMjIuMzg1OCAxMDAgNTAgMTAwWiIgZmlsbD0iI0YzRjRGNiIvPgo8cGF0aCBkPSJNNTAgNjBDNTUuNTIyOSA2MCA2MCA1NS41MjI5IDYwIDUwQzYwIDQ0LjQ3NzEgNTUuNTIyOSA0MCA1MCA0MEM0NC40NzcxIDQwIDQwIDQ0LjQ3NzEgNDAgNTBDNDAgNTUuNTIyOSA0NC40NzcxIDYwIDUwIDYwWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTQwIDUwQzQwIDQ0LjQ3NzEgNDQuNDc3MSA0MCA1MCA0MEM1NS41MjI5IDQwIDYwIDQ0LjQ3NzEgNjAgNTAiIHN0cm9rZT0iI0UyRThGMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+\" class=\"empty-icon\" alt=\"No data\" />\n            <p>没有找到符合条件的订单</p>\n            <button class=\"btn btn-secondary\" @click=\"resetFilters\">重置筛选条件</button>\n          </div>\n        </div>\n        \n        <div class=\"pagination\" v-if=\"totalPages > 1\">\n          <button class=\"btn-page\" :disabled=\"currentPage === 1\" @click=\"changePage(currentPage - 1)\">\n            <i class=\"icon-chevron-left\"></i>\n          </button>\n          <div class=\"page-numbers\">\n            <button \n              v-for=\"page in displayedPages\" \n              :key=\"page\" \n              class=\"btn-page\" \n              :class=\"{ active: currentPage === page }\"\n              @click=\"changePage(page)\"\n            >\n              {{ page }}\n            </button>\n          </div>\n          <button class=\"btn-page\" :disabled=\"currentPage === totalPages\" @click=\"changePage(currentPage + 1)\">\n            <i class=\"icon-chevron-right\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- 订单详情侧边栏 -->\n    <div class=\"order-sidebar\" :class=\"{ active: selectedOrder !== null }\">\n      <div class=\"sidebar-header\">\n        <h2>订单详情</h2>\n        <button class=\"btn-close\" @click=\"closeOrderDetails\">\n          <i class=\"icon-close\"></i>\n        </button>\n      </div>\n      \n      <div class=\"sidebar-content\" v-if=\"selectedOrder\">\n        <div class=\"order-info-header\">\n          <div class=\"order-number\">订单编号: <strong>{{ selectedOrder.orderNumber }}</strong></div>\n          <div class=\"order-date\">下单时间: {{ formatDateTime(selectedOrder.orderDate) }}</div>\n          <div class=\"order-status\">\n            <span class=\"status-badge\" :class=\"selectedOrder.status\">\n              {{ getStatusText(selectedOrder.status) }}\n            </span>\n          </div>\n        </div>\n        \n        <div class=\"info-section\">\n          <h3>客户信息</h3>\n          <div class=\"info-grid\">\n            <div class=\"info-item\">\n              <label>姓名:</label>\n              <div>{{ selectedOrder.customerName }}</div>\n            </div>\n            <div class=\"info-item\">\n              <label>电话:</label>\n              <div>{{ selectedOrder.phone }}</div>\n            </div>\n            <div class=\"info-item\" v-if=\"selectedOrder.address\">\n              <label>地址:</label>\n              <div>{{ selectedOrder.address }}</div>\n            </div>\n            <div class=\"info-item\">\n              <label>取餐时间:</label>\n              <div>{{ formatDateTime(selectedOrder.pickupTime) }}</div>\n            </div>\n            <div class=\"info-item\">\n              <label>支付方式:</label>\n              <div>{{ getPaymentMethodText(selectedOrder.paymentMethod) }}</div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"info-section\">\n          <h3>面包商品</h3>\n          <div class=\"bread-items\">\n            <div class=\"bread-item\" v-for=\"(item, index) in selectedOrder.items\" :key=\"index\">\n              <div class=\"bread-image\">\n                <img :src=\"getBreadImage(item.breadType)\" :alt=\"item.name\" />\n              </div>\n              <div class=\"bread-details\">\n                <div class=\"bread-name\">{{ item.name }}</div>\n                <div class=\"bread-type\">{{ getBreadTypeText(item.breadType) }}</div>\n                <div class=\"bread-price\">¥{{ item.price.toFixed(2) }} × {{ item.quantity }}</div>\n              </div>\n              <div class=\"bread-total\">¥{{ (item.price * item.quantity).toFixed(2) }}</div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"info-section\" v-if=\"selectedOrder.notes\">\n          <h3>订单备注</h3>\n          <div class=\"order-notes\">{{ selectedOrder.notes }}</div>\n        </div>\n        \n        <div class=\"order-summary\">\n          <div class=\"summary-row\">\n            <span>商品小计:</span>\n            <span>¥{{ calculateSubtotal(selectedOrder.items).toFixed(2) }}</span>\n          </div>\n          <div class=\"summary-row\" v-if=\"selectedOrder.discount > 0\">\n            <span>折扣金额:</span>\n            <span>-¥{{ selectedOrder.discount.toFixed(2) }}</span>\n          </div>\n          <div class=\"summary-row\" v-if=\"selectedOrder.deliveryFee > 0\">\n            <span>配送费用:</span>\n            <span>¥{{ selectedOrder.deliveryFee.toFixed(2) }}</span>\n          </div>\n          <div class=\"summary-row total\">\n            <span>订单总计:</span>\n            <span>¥{{ selectedOrder.totalAmount.toFixed(2) }}</span>\n          </div>\n        </div>\n        \n        <div class=\"sidebar-actions\">\n          <button \n            class=\"btn btn-primary\" \n            @click=\"updateOrderStatus(selectedOrder.id, getNextStatus(selectedOrder.status))\"\n            :disabled=\"selectedOrder.status === 'completed' || selectedOrder.status === 'cancelled'\"\n          >\n            {{ getStatusActionText(selectedOrder.status) }}\n          </button>\n          <button class=\"btn btn-secondary\" @click=\"printOrder(selectedOrder)\">\n            打印订单\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- 添加/编辑订单模态框 -->\n    <div class=\"modal\" v-if=\"showAddOrderModal || showEditOrderModal\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h3>{{ showEditOrderModal ? '编辑面包订单' : '新增面包订单' }}</h3>\n          <button class=\"btn-close\" @click=\"closeOrderModal\">\n            <i class=\"icon-close\"></i>\n          </button>\n        </div>\n        \n        <div class=\"modal-body\">\n          <form @submit.prevent=\"saveOrder\">\n            <div class=\"form-section\">\n              <h4>客户信息</h4>\n              <div class=\"form-row\">\n                <div class=\"form-group\">\n                  <label>客户姓名 <span class=\"required\">*</span></label>\n                  <input type=\"text\" v-model=\"orderForm.customerName\" required>\n                </div>\n                <div class=\"form-group\">\n                  <label>联系电话 <span class=\"required\">*</span></label>\n                  <input type=\"tel\" v-model=\"orderForm.phone\" required>\n                </div>\n              </div>\n              \n              <div class=\"form-row\">\n                <div class=\"form-group\">\n                  <label>取餐时间 <span class=\"required\">*</span></label>\n                  <input type=\"datetime-local\" v-model=\"orderForm.pickupTime\" required>\n                </div>\n                <div class=\"form-group\">\n                  <label>支付方式 <span class=\"required\">*</span></label>\n                  <select v-model=\"orderForm.paymentMethod\" required>\n                    <option value=\"cash\">现金支付</option>\n                    <option value=\"wechat\">微信支付</option>\n                    <option value=\"alipay\">支付宝</option>\n                    <option value=\"card\">银行卡</option>\n                  </select>\n                </div>\n              </div>\n              \n              <div class=\"form-row\">\n                <div class=\"form-group full-width\">\n                  <label>地址</label>\n                  <input type=\"text\" v-model=\"orderForm.address\">\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"form-section\">\n              <div class=\"section-header\">\n                <h4>面包商品</h4>\n                <button type=\"button\" class=\"btn btn-sm\" @click=\"addBreadItem\">\n                  <i class=\"icon-plus\"></i> 添加商品\n                </button>\n              </div>\n              \n              <div class=\"bread-items-form\">\n                <div class=\"bread-item-form\" v-for=\"(item, index) in orderForm.items\" :key=\"index\">\n                  <div class=\"form-row\">\n                    <div class=\"form-group\">\n                      <label>面包名称 <span class=\"required\">*</span></label>\n                      <input type=\"text\" v-model=\"item.name\" required>\n                    </div>\n                    <div class=\"form-group\">\n                      <label>面包类型 <span class=\"required\">*</span></label>\n                      <select v-model=\"item.breadType\" required>\n                        <option value=\"sourdough\">酸面团面包</option>\n                        <option value=\"baguette\">法棍面包</option>\n                        <option value=\"croissant\">牛角面包</option>\n                        <option value=\"wholewheat\">全麦面包</option>\n                        <option value=\"brioche\">布里欧面包</option>\n                        <option value=\"rye\">黑麦面包</option>\n                        <option value=\"ciabatta\">夏巴塔面包</option>\n                        <option value=\"bagel\">贝果面包</option>\n                        <option value=\"focaccia\">佛卡夏面包</option>\n                        <option value=\"cake\">蛋糕</option>\n                        <option value=\"other\">其他</option>\n                      </select>\n                    </div>\n                  </div>\n                  \n                  <div class=\"form-row\">\n                    <div class=\"form-group\">\n                      <label>单价 (¥) <span class=\"required\">*</span></label>\n                      <input type=\"number\" v-model=\"item.price\" min=\"0\" step=\"0.01\" required>\n                    </div>\n                    <div class=\"form-group\">\n                      <label>数量 <span class=\"required\">*</span></label>\n                      <input type=\"number\" v-model=\"item.quantity\" min=\"1\" required>\n                    </div>\n                    <button type=\"button\" class=\"btn-icon remove-item\" @click=\"removeBreadItem(index)\" title=\"移除商品\">\n                      <i class=\"icon-trash\"></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n              \n              <div class=\"no-items-message\" v-if=\"orderForm.items.length === 0\">\n                请添加至少一项面包商品\n              </div>\n            </div>\n            \n            <div class=\"form-section\">\n              <h4>其他信息</h4>\n              <div class=\"form-row\">\n                <div class=\"form-group\">\n                  <label>订单状态 <span class=\"required\">*</span></label>\n                  <select v-model=\"orderForm.status\" required>\n                    <option value=\"pending\">待处理</option>\n                    <option value=\"processing\">处理中</option>\n                    <option value=\"completed\">已完成</option>\n                    <option value=\"cancelled\">已取消</option>\n                  </select>\n                </div>\n                <div class=\"form-group\">\n                  <label>折扣金额 (¥)</label>\n                  <input type=\"number\" v-model=\"orderForm.discount\" min=\"0\" step=\"0.01\">\n                </div>\n              </div>\n              \n              <div class=\"form-row\">\n                <div class=\"form-group\">\n                  <label>配送费 (¥)</label>\n                  <input type=\"number\" v-model=\"orderForm.deliveryFee\" min=\"0\" step=\"0.01\">\n                </div>\n                <div class=\"form-group\">\n                  <label>订单总计 (¥)</label>\n                  <div class=\"calculated-total\">{{ calculateOrderTotal().toFixed(2) }}</div>\n                </div>\n              </div>\n              \n              <div class=\"form-row\">\n                <div class=\"form-group full-width\">\n                  <label>备注信息</label>\n                  <textarea v-model=\"orderForm.notes\" rows=\"3\"></textarea>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"form-actions\">\n              <button type=\"button\" class=\"btn btn-secondary\" @click=\"closeOrderModal\">取消</button>\n              <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"orderForm.items.length === 0\">保存订单</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n\n    <!-- 删除确认模态框 -->\n    <div class=\"modal\" v-if=\"showDeleteConfirmation\">\n      <div class=\"modal-content confirmation-modal\">\n        <h3>确认删除</h3>\n        <p>您确定要删除订单 <strong>#{{ orderToDelete.orderNumber }}</strong> 吗？此操作无法撤销。</p>\n        <div class=\"confirmation-actions\">\n          <button class=\"btn btn-secondary\" @click=\"cancelDelete\">取消</button>\n          <button class=\"btn btn-danger\" @click=\"deleteOrder\">确认删除</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: 'BreadOrderManagement',\n  data() {\n    return {\n      // 订单数据\n      orders: [],\n      filteredOrders: [],\n      selectedOrder: null,\n      \n      // 筛选和排序\n      searchQuery: '',\n      statusFilter: '',\n      dateRange: {\n        start: '',\n        end: ''\n      },\n      sortKey: 'orderDate',\n      sortOrder: 'desc',\n      \n      // 分页\n      currentPage: 1,\n      pageSize: 10,\n      \n      // 模态框状态\n      showAddOrderModal: false,\n      showEditOrderModal: false,\n      showDeleteConfirmation: false,\n      orderToDelete: null,\n      \n      // 订单表单\n      orderForm: {\n        customerName: '',\n        phone: '',\n        address: '',\n        pickupTime: '',\n        paymentMethod: 'cash',\n        status: 'pending',\n        notes: '',\n        items: [],\n        discount: 0,\n        deliveryFee: 0\n      }\n    };\n  },\n  computed: {\n    // 总订单数\n    totalOrders() {\n      return this.orders.length;\n    },\n    \n    // 待处理订单数\n    pendingOrders() {\n      return this.orders.filter(order => order.status === 'pending').length;\n    },\n    \n    // 已完成订单数\n    completedOrders() {\n      return this.orders.filter(order => order.status === 'completed').length;\n    },\n    \n    // 总收入\n    totalRevenue() {\n      return this.orders\n        .filter(order => order.status === 'completed')\n        .reduce((total, order) => total + order.totalAmount, 0);\n    },\n    \n    // 总页数\n    totalPages() {\n      return Math.ceil(this.filteredOrders.length / this.pageSize);\n    },\n    \n    // 当前页订单\n    paginatedOrders() {\n      const startIndex = (this.currentPage - 1) * this.pageSize;\n      const endIndex = startIndex + this.pageSize;\n      return this.filteredOrders.slice(startIndex, endIndex);\n    },\n    \n    // 显示的页码\n    displayedPages() {\n      const pages = [];\n      const maxDisplayedPages = 5;\n      \n      if (this.totalPages <= maxDisplayedPages) {\n        // 总页数小于等于最大显示页数，显示所有页码\n        for (let i = 1; i <= this.totalPages; i++) {\n          pages.push(i);\n        }\n      } else {\n        // 总页数大于最大显示页数\n        const halfDisplay = Math.floor(maxDisplayedPages / 2);\n        \n        // 当前页靠近开始\n        if (this.currentPage <= halfDisplay + 1) {\n          for (let i = 1; i <= maxDisplayedPages; i++) {\n            pages.push(i);\n          }\n        }\n        // 当前页靠近结束\n        else if (this.currentPage >= this.totalPages - halfDisplay) {\n          for (let i = this.totalPages - maxDisplayedPages + 1; i <= this.totalPages; i++) {\n            pages.push(i);\n          }\n        }\n        // 当前页在中间\n        else {\n          for (let i = this.currentPage - halfDisplay; i <= this.currentPage + halfDisplay; i++) {\n            pages.push(i);\n          }\n        }\n      }\n      \n      return pages;\n    }\n  },\n  created() {\n    this.loadOrders();\n  },\n  methods: {\n    // 加载订单数据\n    async loadOrders() {\n      try {\n        // 从后端API获取数据\n        const response = await fetch('http://localhost:5050/api/orders');\n        if (!response.ok) {\n          throw new Error('获取订单数据失败');\n        }\n        const data = await response.json();\n        \n        // 处理日期字符串为Date对象\n        this.orders = data.map(order => ({\n          ...order,\n          orderDate: new Date(order.orderDate),\n          pickupTime: order.pickupTime ? new Date(order.pickupTime) : null\n        }));\n        \n        this.filterOrders();\n      } catch (error) {\n        console.error('加载订单数据失败:', error);\n        this.orders = [];\n        this.filterOrders();\n      }\n    },\n    \n    // 刷新订单数据\n    async refreshOrders() {\n      try {\n        await this.loadOrders();\n        this.selectedOrder = null;\n        this.$nextTick(() => {\n          alert('订单数据已刷新');\n        });\n      } catch (error) {\n        console.error('刷新订单数据失败:', error);\n        alert('刷新订单数据失败，请重试');\n      }\n    },\n    \n    // 筛选订单\n    filterOrders() {\n      let result = [...this.orders];\n      \n      // 搜索条件筛选\n      if (this.searchQuery) {\n        const query = this.searchQuery.toLowerCase();\n        result = result.filter(order => \n          order.orderNumber.toLowerCase().includes(query) ||\n          order.customerName.toLowerCase().includes(query) ||\n          order.phone.includes(query)\n        );\n      }\n      \n      // 状态筛选\n      if (this.statusFilter) {\n        result = result.filter(order => order.status === this.statusFilter);\n      }\n      \n      // 日期范围筛选\n      if (this.dateRange.start) {\n        const startDate = new Date(this.dateRange.start);\n        startDate.setHours(0, 0, 0, 0);\n        result = result.filter(order => new Date(order.orderDate) >= startDate);\n      }\n      \n      if (this.dateRange.end) {\n        const endDate = new Date(this.dateRange.end);\n        endDate.setHours(23, 59, 59, 999);\n        result = result.filter(order => new Date(order.orderDate) <= endDate);\n      }\n      \n      this.filteredOrders = this.sortOrders(result);\n      this.currentPage = 1; // 重置到第一页\n    },\n    \n    // 重置筛选条件\n    resetFilters() {\n      this.searchQuery = '';\n      this.statusFilter = '';\n      this.dateRange.start = '';\n      this.dateRange.end = '';\n      this.filterOrders();\n    },\n    \n    // 排序订单\n    sortOrders(ordersToSort = null) {\n      const orders = ordersToSort || [...this.filteredOrders];\n      \n      return orders.sort((a, b) => {\n        let valueA = a[this.sortKey];\n        let valueB = b[this.sortKey];\n        \n        // 日期类型特殊处理\n        if (this.sortKey === 'orderDate' || this.sortKey === 'pickupTime') {\n          valueA = new Date(valueA).getTime();\n          valueB = new Date(valueB).getTime();\n        }\n        \n        // 字符串类型特殊处理\n        if (typeof valueA === 'string') {\n          valueA = valueA.toLowerCase();\n          valueB = valueB.toLowerCase();\n        }\n        \n        // 根据排序方向返回比较结果\n        if (this.sortOrder === 'asc') {\n          return valueA > valueB ? 1 : -1;\n        } else {\n          return valueA < valueB ? 1 : -1;\n        }\n      });\n    },\n    \n    // 切换排序方向\n    toggleSortOrder() {\n      this.sortOrder = this.sortOrder === 'asc' ? 'desc' : 'asc';\n      this.filteredOrders = this.sortOrders();\n    },\n    \n    // 更改页码\n    changePage(page) {\n      if (page >= 1 && page <= this.totalPages) {\n        this.currentPage = page;\n      }\n    },\n    \n    // 查看订单详情\n    viewOrderDetails(order) {\n      this.selectedOrder = order;\n    },\n    \n    // 关闭订单详情\n    closeOrderDetails() {\n      this.selectedOrder = null;\n    },\n    \n    // 编辑订单\n    editOrder(order) {\n      // 复制订单数据到表单\n      this.orderForm = {\n        id: order.id,\n        orderNumber: order.orderNumber,\n        customerName: order.customerName,\n        phone: order.phone,\n        address: order.address || '',\n        pickupTime: this.formatDateTimeForInput(order.pickupTime),\n        paymentMethod: order.paymentMethod,\n        status: order.status,\n        notes: order.notes || '',\n        items: JSON.parse(JSON.stringify(order.items)), // 深拷贝\n        discount: order.discount || 0,\n        deliveryFee: order.deliveryFee || 0\n      };\n      \n      this.showEditOrderModal = true;\n    },\n    \n    // 确认删除订单\n    confirmDeleteOrder(order) {\n      this.orderToDelete = order;\n      this.showDeleteConfirmation = true;\n    },\n    \n    // 取消删除\n    cancelDelete() {\n      this.orderToDelete = null;\n      this.showDeleteConfirmation = false;\n    },\n    \n    // 删除订单\n    async deleteOrder() {\n      try {\n        const response = await fetch(`http://localhost:5050/api/orders/${this.orderToDelete.id}`, {\n          method: 'DELETE'\n        });\n\n        if (!response.ok) {\n          throw new Error('删除订单失败');\n        }\n\n        // 重新加载订单数据\n        await this.loadOrders();\n        \n        // 如果删除的是当前选中的订单，则清除选中\n        if (this.selectedOrder && this.selectedOrder.id === this.orderToDelete.id) {\n          this.selectedOrder = null;\n        }\n        \n        this.showDeleteConfirmation = false;\n        this.orderToDelete = null;\n        alert('订单删除成功');\n      } catch (error) {\n        console.error('删除订单失败:', error);\n        alert('删除订单失败，请重试');\n      }\n    },\n    \n    // 更新订单状态\n    async updateOrderStatus(orderId, newStatus) {\n      try {\n        const response = await fetch(`http://localhost:5050/api/orders/${orderId}/status`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ status: newStatus })\n        });\n\n        if (!response.ok) {\n          throw new Error('更新订单状态失败');\n        }\n\n        // 重新加载订单数据\n        await this.loadOrders();\n        \n        // 如果当前有选中的订单，也更新它的状态\n        if (this.selectedOrder && this.selectedOrder.id === orderId) {\n          this.selectedOrder.status = newStatus;\n        }\n      } catch (error) {\n        console.error('更新订单状态失败:', error);\n        alert('更新订单状态失败，请重试');\n      }\n    },\n    \n    // 打印订单\n    printOrder(order) {\n      // 在实际应用中，这里应该调用打印功能\n      console.log('打印订单:', order.orderNumber);\n      alert(`正在打印订单 #${order.orderNumber}`);\n    },\n    \n    // 添加面包商品\n    addBreadItem() {\n      this.orderForm.items.push({\n        name: '',\n        breadType: 'sourdough',\n        price: 0,\n        quantity: 1\n      });\n    },\n    \n    // 移除面包商品\n    removeBreadItem(index) {\n      this.orderForm.items.splice(index, 1);\n    },\n    \n    // 关闭订单模态框\n    closeOrderModal() {\n      this.showAddOrderModal = false;\n      this.showEditOrderModal = false;\n      this.resetOrderForm();\n    },\n    \n    // 重置订单表单\n    resetOrderForm() {\n      this.orderForm = {\n        customerName: '',\n        phone: '',\n        address: '',\n        pickupTime: '',\n        paymentMethod: 'cash',\n        status: 'pending',\n        notes: '',\n        items: [],\n        discount: 0,\n        deliveryFee: 0\n      };\n      \n      // 添加一个默认的空商品项\n      this.addBreadItem();\n    },\n    \n    // 保存订单\n    async saveOrder() {\n      try {\n        const totalAmount = this.calculateOrderTotal();\n        const orderData = {\n          ...this.orderForm,\n          totalAmount: totalAmount\n        };\n\n        if (this.showEditOrderModal) {\n          // 更新现有订单\n          const response = await fetch(`http://localhost:5050/api/orders/${this.orderForm.id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(orderData)\n          });\n\n          if (!response.ok) {\n            throw new Error('更新订单失败');\n          }\n        } else {\n          // 创建新订单\n          const response = await fetch('http://localhost:5050/api/orders', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(orderData)\n          });\n\n          if (!response.ok) {\n            throw new Error('创建订单失败');\n          }\n        }\n\n        // 重新加载订单数据\n        await this.loadOrders();\n        this.closeOrderModal();\n        alert(this.showEditOrderModal ? '订单更新成功' : '订单创建成功');\n      } catch (error) {\n        console.error('保存订单失败:', error);\n        alert('保存订单失败，请重试');\n      }\n    },\n    \n    // 计算订单小计\n    calculateSubtotal(items) {\n      return items.reduce((total, item) => total + (item.price * item.quantity), 0);\n    },\n    \n    // 计算订单总计\n    calculateOrderTotal() {\n      const subtotal = this.calculateSubtotal(this.orderForm.items);\n      const discount = parseFloat(this.orderForm.discount) || 0;\n      const deliveryFee = parseFloat(this.orderForm.deliveryFee) || 0;\n      return subtotal - discount + deliveryFee;\n    },\n    \n    // 获取订单状态文本\n    getStatusText(status) {\n      const statusMap = {\n        'pending': '待处理',\n        'processing': '处理中',\n        'completed': '已完成',\n        'cancelled': '已取消'\n      };\n      return statusMap[status] || status;\n    },\n    \n    // 获取支付方式文本\n    getPaymentMethodText(method) {\n      const methodMap = {\n        'cash': '现金支付',\n        'wechat': '微信支付',\n        'alipay': '支付宝',\n        'card': '银行卡'\n      };\n      return methodMap[method] || method;\n    },\n    \n    // 获取面包类型文本\n    getBreadTypeText(type) {\n      const typeMap = {\n        'sourdough': '酸面团面包',\n        'baguette': '法棍面包',\n        'croissant': '牛角面包',\n        'wholewheat': '全麦面包',\n        'brioche': '布里欧面包',\n        'rye': '黑麦面包',\n        'ciabatta': '夏巴塔面包',\n        'bagel': '贝果面包',\n        'focaccia': '佛卡夏面包',\n        'cake': '蛋糕',\n        'other': '其他'\n      };\n      return typeMap[type] || type;\n    },\n    \n    // 获取面包图片\n    getBreadImage(type) {\n      // 在实际应用中，这里应该返回不同面包类型的图片URL\n      // 这里使用一个简单的占位符图片\n      return `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiByeD0iOCIgZmlsbD0iI0Y1RjVGNSIvPgo8cGF0aCBkPSJNMjAgMjBINDRWNDRIMjBWMjBaIiBmaWxsPSIjRThFOEU4Ii8+CjxwYXRoIGQ9Ik0zMiAyMEMzOC42Mjc0IDIwIDQ0IDI1LjM3MjYgNDQgMzJDNDQgMzguNjI3NCAzOC42Mjc0IDQ0IDMyIDQ0QzI1LjM3MjYgNDQgMjAgMzguNjI3NCAyMCAzMkMyMCAyNS4zNzI2IDI1LjM3MjYgMjAgMzIgMjBaIiBmaWxsPSIjRTBFMEUwIi8+Cjwvc3ZnPg==`;\n    },\n    \n    // 获取下一个状态\n    getNextStatus(status) {\n      const statusFlow = {\n        'pending': 'processing',\n        'processing': 'completed',\n        'completed': 'completed',\n        'cancelled': 'pending'\n      };\n      return statusFlow[status] || status;\n    },\n    \n    // 获取状态操作文本\n    getStatusActionText(status) {\n      const actionMap = {\n        'pending': '开始处理',\n        'processing': '标记完成',\n        'completed': '已完成',\n        'cancelled': '重新处理'\n      };\n      return actionMap[status] || '更新状态';\n    },\n    \n    // 格式化日期\n    formatDate(date) {\n      if (!date) return '';\n      const d = new Date(date);\n      return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\n    },\n    \n    // 格式化时间\n    formatTime(date) {\n      if (!date) return '';\n      const d = new Date(date);\n      return `${String(d.getHours()).padStart(2, '0')}:${String(d.getMinutes()).padStart(2, '0')}`;\n    },\n    \n    // 格式化日期时间\n    formatDateTime(date) {\n      if (!date) return '';\n      return `${this.formatDate(date)} ${this.formatTime(date)}`;\n    },\n    \n    // 格式化日期时间为输入框格式\n    formatDateTimeForInput(date) {\n      if (!date) return '';\n      const d = new Date(date);\n      return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}T${String(d.getHours()).padStart(2, '0')}:${String(d.getMinutes()).padStart(2, '0')}`;\n    }\n  }\n};\n</script>\n\n<style>\n/* 全局样式 */\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: 'Helvetica Neue', Arial, sans-serif;\n  font-size: 14px;\n  line-height: 1.5;\n  color: #333;\n  background-color: #f5f7fa;\n}\n\n.bread-order-management {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n  position: relative;\n}\n\n/* 头部样式 */\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n}\n\n.logo {\n  display: flex;\n  flex-direction: column;\n}\n\n.logo h1 {\n  font-size: 24px;\n  color: #1a202c;\n  margin: 0;\n  font-weight: 700;\n}\n\n.subtitle {\n  font-size: 14px;\n  color: #718096;\n  margin-top: 4px;\n}\n\n.actions {\n  display: flex;\n  gap: 12px;\n}\n\n/* 按钮样式 */\n.btn {\n  padding: 8px 16px;\n  border-radius: 4px;\n  font-weight: 500;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n  border: none;\n  font-size: 14px;\n  gap: 6px;\n}\n\n.btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.btn-sm {\n  padding: 4px 12px;\n  font-size: 12px;\n}\n\n.btn-primary {\n  background-color: #4a5568;\n  color: white;\n}\n\n.btn-primary:hover:not(:disabled) {\n  background-color: #2d3748;\n}\n\n.btn-secondary {\n  background-color: #e2e8f0;\n  color: #4a5568;\n}\n\n.btn-secondary:hover:not(:disabled) {\n  background-color: #cbd5e0;\n}\n\n.btn-danger {\n  background-color: #e53e3e;\n  color: white;\n}\n\n.btn-danger:hover:not(:disabled) {\n  background-color: #c53030;\n}\n\n.btn-filter {\n  background-color: #edf2f7;\n  color: #4a5568;\n}\n\n.btn-filter:hover {\n  background-color: #e2e8f0;\n}\n\n.btn-icon {\n  width: 32px;\n  height: 32px;\n  border-radius: 4px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  color: #4a5568;\n  transition: all 0.2s;\n}\n\n.btn-icon:hover {\n  background-color: #edf2f7;\n}\n\n.btn-page {\n  min-width: 32px;\n  height: 32px;\n  border-radius: 4px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  background-color: white;\n  border: 1px solid #e2e8f0;\n  cursor: pointer;\n  color: #4a5568;\n  transition: all 0.2s;\n}\n\n.btn-page:hover:not(:disabled) {\n  background-color: #edf2f7;\n}\n\n.btn-page.active {\n  background-color: #4a5568;\n  color: white;\n  border-color: #4a5568;\n}\n\n.btn-page:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.btn-close {\n  background: none;\n  border: none;\n  font-size: 18px;\n  cursor: pointer;\n  color: #718096;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.btn-close:hover {\n  color: #4a5568;\n}\n\n/* 卡片样式 */\n.card {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  margin-bottom: 24px;\n  overflow: hidden;\n}\n\n.card-header {\n  padding: 16px 20px;\n  border-bottom: 1px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.card-header h2 {\n  font-size: 18px;\n  font-weight: 600;\n  color: #1a202c;\n  margin: 0;\n}\n\n.header-actions {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n/* 仪表盘统计卡片 */\n.dashboard {\n  margin-bottom: 24px;\n}\n\n.order-stats {\n  display: flex;\n  padding: 20px;\n  margin-bottom: 24px;\n}\n\n.stat-item {\n  flex: 1;\n  text-align: center;\n  padding: 0 15px;\n  border-right: 1px solid #e2e8f0;\n}\n\n.stat-item:last-child {\n  border-right: none;\n}\n\n.stat-value {\n  font-size: 24px;\n  font-weight: 700;\n  color: #1a202c;\n  margin-bottom: 4px;\n}\n\n.stat-label {\n  font-size: 14px;\n  color: #718096;\n}\n\n/* 搜索和筛选 */\n.search-filters {\n  padding: 16px 20px;\n  margin-bottom: 24px;\n}\n\n.search-box {\n  position: relative;\n  margin-bottom: 16px;\n}\n\n.search-box input {\n  width: 100%;\n  padding: 10px 12px;\n  padding-right: 40px;\n  border: 1px solid #e2e8f0;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: border-color 0.2s;\n}\n\n.search-box input:focus {\n  outline: none;\n  border-color: #4a5568;\n}\n\n.search-box i {\n  position: absolute;\n  right: 12px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #a0aec0;\n}\n\n.filters {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16px;\n  align-items: flex-end;\n}\n\n.filter-group {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  flex: 1;\n  min-width: 200px;\n}\n\n.filter-group label {\n  font-size: 12px;\n  font-weight: 500;\n  color: #718096;\n}\n\n.filter-group select {\n  padding: 8px 12px;\n  border: 1px solid #e2e8f0;\n  border-radius: 4px;\n  background-color: white;\n  font-size: 14px;\n}\n\n.date-range {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.date-range input {\n  padding: 8px 12px;\n  border: 1px solid #e2e8f0;\n  border-radius: 4px;\n  flex: 1;\n  font-size: 14px;\n}\n\n.date-range span {\n  color: #718096;\n}\n\n/* 排序选项 */\n.sort-options {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.sort-options label {\n  font-size: 14px;\n  color: #718096;\n}\n\n.sort-options select {\n  padding: 6px 12px;\n  border: 1px solid #e2e8f0;\n  border-radius: 4px;\n  background-color: white;\n  font-size: 14px;\n}\n\n/* 表格样式 */\n.table-container {\n  overflow-x: auto;\n}\n\n.orders-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.orders-table th {\n  padding: 12px 16px;\n  text-align: left;\n  font-weight: 600;\n  color: #4a5568;\n  background-color: #f8fafc;\n  border-bottom: 1px solid #e2e8f0;\n  white-space: nowrap;\n}\n\n.orders-table td {\n  padding: 12px 16px;\n  border-bottom: 1px solid #e2e8f0;\n  vertical-align: middle;\n}\n\n.orders-table tr:hover {\n  background-color: #f7fafc;\n}\n\n.orders-table tr.selected {\n  background-color: #edf2f7;\n}\n\n.orders-table tr:last-child td {\n  border-bottom: none;\n}\n\n.status-badge {\n  display: inline-block;\n  padding: 4px 10px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 500;\n  text-align: center;\n}\n\n.status-badge.pending {\n  background-color: #feebc8;\n  color: #c05621;\n}\n\n.status-badge.processing {\n  background-color: #bee3f8;\n  color: #2b6cb0;\n}\n\n.status-badge.completed {\n  background-color: #c6f6d5;\n  color: #276749;\n}\n\n.status-badge.cancelled {\n  background-color: #fed7d7;\n  color: #c53030;\n}\n\n.actions-cell {\n  display: flex;\n  gap: 8px;\n  justify-content: flex-start;\n}\n\n/* 空状态 */\n.empty-state {\n  padding: 40px 20px;\n  text-align: center;\n  color: #718096;\n}\n\n.empty-icon {\n  width: 80px;\n  height: 80px;\n  margin-bottom: 16px;\n}\n\n.empty-state p {\n  margin-bottom: 16px;\n  font-size: 16px;\n}\n\n/* 分页 */\n.pagination {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  gap: 8px;\n}\n\n.page-numbers {\n  display: flex;\n  gap: 8px;\n}\n\n/* 侧边栏 */\n.order-sidebar {\n  position: fixed;\n  top: 0;\n  right: -400px;\n  width: 400px;\n  height: 100vh;\n  background-color: white;\n  box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  transition: right 0.3s ease;\n  display: flex;\n  flex-direction: column;\n}\n\n.order-sidebar.active {\n  right: 0;\n}\n\n.sidebar-header {\n  padding: 16px 20px;\n  border-bottom: 1px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #f8fafc;\n}\n\n.sidebar-header h2 {\n  font-size: 18px;\n  font-weight: 600;\n  color: #1a202c;\n  margin: 0;\n}\n\n.sidebar-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n}\n\n.order-info-header {\n  margin-bottom: 24px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid #e2e8f0;\n}\n\n.order-number {\n  font-size: 16px;\n  color: #1a202c;\n  margin-bottom: 4px;\n}\n\n.order-date {\n  font-size: 14px;\n  color: #718096;\n  margin-bottom: 8px;\n}\n\n.info-section {\n  margin-bottom: 24px;\n}\n\n.info-section h3 {\n  font-size: 16px;\n  font-weight: 600;\n  color: #1a202c;\n  margin-bottom: 12px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #e2e8f0;\n}\n\n.info-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  gap: 16px;\n}\n\n.info-item {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.info-item label {\n  font-size: 12px;\n  color: #718096;\n  font-weight: 500;\n}\n\n.info-item div {\n  font-size: 14px;\n  color: #1a202c;\n}\n\n/* 面包商品列表 */\n.bread-items {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.bread-item {\n  display: flex;\n  padding: 12px;\n  background-color: #f8fafc;\n  border-radius: 6px;\n  gap: 12px;\n  align-items: center;\n}\n\n.bread-image {\n  width: 48px;\n  height: 48px;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.bread-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.bread-details {\n  flex: 1;\n}\n\n.bread-name {\n  font-weight: 500;\n  color: #1a202c;\n  margin-bottom: 2px;\n}\n\n.bread-type {\n  font-size: 12px;\n  color: #718096;\n  margin-bottom: 4px;\n}\n\n.bread-price {\n  font-size: 12px;\n  color: #4a5568;\n}\n\n.bread-total {\n  font-weight: 600;\n  color: #1a202c;\n}\n\n/* 订单备注 */\n.order-notes {\n  padding: 12px;\n  background-color: #f8fafc;\n  border-radius: 6px;\n  font-size: 14px;\n  color: #4a5568;\n  font-style: italic;\n  line-height: 1.5;\n}\n\n/* 订单总结 */\n.order-summary {\n  background-color: #f8fafc;\n  padding: 16px;\n  border-radius: 6px;\n  margin-bottom: 24px;\n}\n\n.summary-row {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 8px;\n  font-size: 14px;\n  color: #4a5568;\n}\n\n.summary-row.total {\n  margin-top: 12px;\n  padding-top: 12px;\n  border-top: 1px solid #e2e8f0;\n  font-weight: 600;\n  font-size: 16px;\n  color: #1a202c;\n}\n\n.sidebar-actions {\n  display: flex;\n  gap: 12px;\n  margin-top: 24px;\n}\n\n/* 模态框 */\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 2000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.modal-content {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  width: 90%;\n  max-width: 600px;\n  max-height: 90vh;\n  overflow-y: auto;\n  animation: modal-slide-in 0.3s ease;\n}\n\n@keyframes modal-slide-in {\n  from {\n    transform: translateY(-30px);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n.modal-header {\n  padding: 16px 20px;\n  border-bottom: 1px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  background-color: white;\n  z-index: 1;\n}\n\n.modal-header h3 {\n  font-size: 18px;\n  font-weight: 600;\n  color: #1a202c;\n  margin: 0;\n}\n\n.modal-body {\n  padding: 20px;\n}\n\n.confirmation-modal {\n  max-width: 400px;\n  padding: 24px;\n  text-align: center;\n}\n\n.confirmation-modal h3 {\n  margin-bottom: 16px;\n}\n\n.confirmation-modal p {\n  margin-bottom: 24px;\n  color: #4a5568;\n}\n\n.confirmation-actions {\n  display: flex;\n  justify-content: center;\n  gap: 16px;\n}\n\n/* 表单样式 */\n.form-section {\n  margin-bottom: 24px;\n  padding-bottom: 24px;\n  border-bottom: 1px solid #e2e8f0;\n}\n\n.form-section:last-child {\n  margin-bottom: 0;\n  padding-bottom: 0;\n  border-bottom: none;\n}\n\n.form-section h4 {\n  font-size: 16px;\n  font-weight: 600;\n  color: #1a202c;\n  margin-bottom: 16px;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n}\n\n.form-row {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16px;\n  margin-bottom: 16px;\n}\n\n.form-row:last-child {\n  margin-bottom: 0;\n}\n\n.form-group {\n  flex: 1;\n  min-width: 200px;\n}\n\n.form-group.full-width {\n  min-width: 100%;\n}\n\n.form-group label {\n  display: block;\n  font-size: 14px;\n  font-weight: 500;\n  color: #4a5568;\n  margin-bottom: 6px;\n}\n\n.form-group input,\n.form-group select,\n.form-group textarea {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid #e2e8f0;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: border-color 0.2s;\n}\n\n.form-group input:focus,\n.form-group select:focus,\n.form-group textarea:focus {\n  outline: none;\n  border-color: #4a5568;\n}\n\n.form-group textarea {\n  resize: vertical;\n  min-height: 80px;\n}\n\n.required {\n  color: #e53e3e;\n}\n\n.calculated-total {\n  padding: 8px 12px;\n  background-color: #f8fafc;\n  border: 1px solid #e2e8f0;\n  border-radius: 4px;\n  font-weight: 600;\n  color: #1a202c;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  margin-top: 24px;\n}\n\n/* 面包项表单 */\n.bread-items-form {\n  margin-bottom: 16px;\n}\n\n.bread-item-form {\n  background-color: #f8fafc;\n  padding: 16px;\n  border-radius: 6px;\n  margin-bottom: 16px;\n  position: relative;\n}\n\n.bread-item-form:last-child {\n  margin-bottom: 0;\n}\n\n.remove-item {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n}\n\n.no-items-message {\n  padding: 12px;\n  background-color: #feebc8;\n  color: #c05621;\n  border-radius: 4px;\n  text-align: center;\n  font-size: 14px;\n}\n\n/* 图标 */\n[class^=\"icon-\"] {\n  font-family: 'Font Awesome 5 Free';\n  font-weight: 900;\n}\n\n.icon-plus:before { content: \"+\"; }\n.icon-refresh:before { content: \"↻\"; }\n.icon-search:before { content: \"🔍\"; }\n.icon-filter:before { content: \"⚡\"; }\n.icon-sort-up:before { content: \"↑\"; }\n.icon-sort-down:before { content: \"↓\"; }\n.icon-eye:before { content: \"👁\"; }\n.icon-edit:before { content: \"✎\"; }\n.icon-trash:before { content: \"🗑\"; }\n.icon-close:before { content: \"×\"; }\n.icon-chevron-left:before { content: \"←\"; }\n.icon-chevron-right:before { content: \"→\"; }\n\n/* 响应式设计 */\n@media (max-width: 992px) {\n  .order-stats {\n    flex-wrap: wrap;\n  }\n  \n  .stat-item {\n    flex: 1 0 45%;\n    margin-bottom: 16px;\n    border-right: none;\n    border-bottom: 1px solid #e2e8f0;\n    padding-bottom: 16px;\n  }\n  \n  .order-sidebar {\n    width: 100%;\n    right: -100%;\n  }\n}\n\n@media (max-width: 768px) {\n  .actions {\n    flex-direction: column;\n    width: 100%;\n  }\n  \n  .btn {\n    width: 100%;\n  }\n  \n  .stat-item {\n    flex: 1 0 100%;\n  }\n  \n  .orders-table th:nth-child(4),\n  .orders-table td:nth-child(4),\n  .orders-table th:nth-child(5),\n  .orders-table td:nth-child(5) {\n    display: none;\n  }\n}\n\n@media (max-width: 576px) {\n  .header {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n  \n  .logo {\n    margin-bottom: 16px;\n  }\n  \n  .actions {\n    width: 100%;\n  }\n  \n  .orders-table th:nth-child(3),\n  .orders-table td:nth-child(3),\n  .orders-table th:nth-child(6),\n  .orders-table td:nth-child(6) {\n    display: none;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}